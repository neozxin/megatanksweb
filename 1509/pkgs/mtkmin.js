(function(){(function(){window.XinSDK||(window.XinSDK={});XinSDK.myWin8Common=function(){function n(){this.appHeight=window.outerHeight;this.appWidth=window.outerWidth;this.frmPadding=0;this.window__onresize=this.window__onresize_funcsthen=null;this.setWindowOnResize("clearfuncsthenarrays");this.glbStrings=[];this.appRoamingSettings=null;this.appRoamingSettings=window.WinJS?Windows.Storage.ApplicationData.current.roamingSettings:{values:{}};this.appPkgID=this.appCurClient="";if(window.WinJS){var b=
Windows.ApplicationModel.Package.current.id.version,a=Windows.ApplicationModel.Package.current.id.familyName;this.appCurClient="RT8@"+b.major+"."+b.minor+"."+b.build+"."+b.revision;this.appPkgID=""+a}else this.appCurClient="Web@1.x.x.x",this.appPkgID="Mega"}var c={init:function(){},unInst:function(){},makeSubClassOf:function(b){function a(){}a.prototype=b.prototype;return new a},addMembersToObject:function(b,a){for(var d in a)a.hasOwnProperty(d)&&(b[d]=a[d])},singleton:function(b){var a;return function(){return a||
(a=b.apply(this,arguments))}},getOrCreatePkgNS:function(){for(var b=window,a=0;a<arguments.length;a++)b[arguments[a]]||(b[arguments[a]]={}),b=b[arguments[a]];return b},isPkgNSCreated:function(){for(var b=window,a=0;a<arguments.length;a++){if(!b[arguments[a]])return!1;b=b[arguments[a]]}return!0},wdomSetHTML:function(b,a){b&&b.innerHTML&&(b.innerHTML=a)},wdomAddHTML:function(b,a){b&&b.innerHTML&&(b.innerHTML+=a)},wdomSetAttr:function(b,a){b&&b.innerHTML&&(b.innerHTML=a)},wdomSetCSS:function(b,a){b&&
b.innerHTML&&(b.innerHTML=a)},setWindowOnResize:function(b){var a=this;"clearfuncsthenarrays"==b?a.window__onresize_funcsthen=[]:b&&null!=b&&a.window__onresize_funcsthen.push(b);a.window__onresize=function(d){a.onWindowResized(d,a);for(d=0;d<a.window__onresize_funcsthen.length;d++)a.window__onresize_funcsthen[d]()};window.onresize=a.window__onresize},onWindowResized:function(b,a){a.appHeight=b.target.outerHeight;a.appWidth=b.target.outerWidth},getRoamingSettings:function(b){var a=void 0;return a=
this.appRoamingSettings.values[b]},setRoamingSettings:function(b,a,d){window.WinJS?this.appRoamingSettings.values[b]=a:(this.appRoamingSettings.values[b]=a,d&&this.externalNotify("mgascriptSetDat:"+JSON.stringify(this.appRoamingSettings.values)))},externalNotify:function(b){},pickAFile:function(b,a,d){try{if(!window.WinJS)document.body.innerHTML+='\r\n                        <div style="position:absolute; background:gray; left:0px; top:0px; width:500px; height:100px;">\r\n                            <input type="file" />\r\n                            <input type="button" value="loadnow" />\r\n                        </div>\r\n                        ',
null!=d&&d("");else if(Windows.UI.ViewManagement.ApplicationView.value!==Windows.UI.ViewManagement.ApplicationViewState.snapped||Windows.UI.ViewManagement.ApplicationView.tryUnsnap()){var c=(b||"*").split("|"),h=Windows.Storage.Pickers,k=new h.FileOpenPicker,f;for(f in c)k.fileTypeFilter.append(c[f]);k.suggestedStartLocation=a||h.PickerLocationId.videosLibrary;k.pickSingleFileAsync().done(function(a){null!=d&&d(a)})}}catch(m){console.log("\u6587\u4ef6\u9009\u53d6\u5668\u9519\u8bef","cwin8common",
"_CWin8Common")}},saveATxtFileLocal:function(b,a,d,c){try{window.WinJS?Windows.Storage.ApplicationData.current.localFolder.createFileAsync(b,Windows.Storage.CreationCollisionOption.replaceExisting).then(function(d){Windows.Storage.FileIO.writeTextAsync(d,a).then(function(){null!=c&&c()},function(d){})},function(d){}):null!=c&&c()}catch(h){console.log("\u4fdd\u5b58\u6587\u4ef6\u9519\u8bef","cwin8common","_CWin8Common")}},loadATxtFileLocal:function(b,a,d){try{window.WinJS?Windows.Storage.ApplicationData.current.localFolder.getFileAsync(b).then(function(a){Windows.Storage.FileIO.readTextAsync(a).then(function(b){null!=
d&&d(a,b)},function(d){})},function(d){}):null!=d&&d("")}catch(c){console.log("\u8f7d\u5165\u6587\u4ef6\u9519\u8bef","cwin8common","_CWin8Common")}},loadResources:function(b,a){var d=this;b=null!=b&&""!=b?b+"/":d.getCurLangcode()+"/";if(window.WinJS){var c="../data/strings/"+b+"resources.json",h=document.createElement("script");h.setAttribute("type","text/javascript");h.setAttribute("src",c);document.getElementsByTagName("head")[0].appendChild(h);h.onload=function(){document.getElementsByTagName("head")[0].removeChild(this);
d.glbStrings=XinSDK.myMGAJSONLangtxts;a&&a()}}else c=new XMLHttpRequest,c.open("get","../data/strings/"+b+"resources.json",!1),c.send(),d.glbStrings=JSON.parse(c.response),a&&a()},localizeAllStrings:function(b,a,d){var c=this;a&&""!=a||(a=c.getCurLangcode());d&&c.setRoamingSettings("SETTING_Prefer_Langcode",a);try{c.loadResources(a,function(){for(var d=b.querySelectorAll("[data-vlantxt]"),a=0;a<d.length;a++)d[a].innerHTML=c.getvLanTxt("forTextFromElement",null,d[a])})}catch(h){}return a},getvLanTxt:function(b,
a,d){var c="???";("forCodeFromElement"==b||"forTextFromElement"==b)&&d&&d.attributes["data-vlantxt"]&&(c=a=""+d.attributes["data-vlantxt"].value);if("forTextFromCode"==b||"forTextFromElement"==b)b=this.glbStrings,c=b[a]?b[a]:a.replace(/(^`*)|(`*$)/g,"");return c},getCurLangcode:function(){var b=this.getRoamingSettings("SETTING_Prefer_Langcode");return b=b?""+b:0>(""+(navigator.languages?navigator.languages[0]:navigator.language||navigator.userLanguage).toUpperCase()).indexOf("ZH-")?"en-US":"zh-CN"}};
c.addMembersToObject(n.prototype,c);return new n}();(function(){function n(){this.strMTKWebDomain="";this.ifNews=null}XinSDK.myWin8Common.addMembersToObject(n.prototype,{setToMGAPopup:function(c){var b=document.createElement("div");b.className="clsdvMGAPopupL2ScrCover";b.innerHTML="&nbsp;";var a=document.createElement("div");a.className="clsdvMGAPopupL2Body";a.innerHTML="&nbsp;";var d=document.createElement("div");d.className="clsdvMGAPopupL3BG";d.innerHTML="&nbsp;";var e=c.querySelector(".clsdvMGAPopupL2_InfoData");
if(e){var e=JSON.parse(""+e.innerHTML),h;for(h in e.datMGAPopupL1Main)c.style[h]=e.datMGAPopupL1Main[h];for(h in e.datMGAPopupL2ScrCover)b.style[h]=e.datMGAPopupL2ScrCover[h];for(h in e.datMGAPopupL2Body)a.style[h]=e.datMGAPopupL2Body[h];for(h in e.datMGAPopupL3BG)d.style[h]=e.datMGAPopupL3BG[h]}h=c.querySelector(".clsdvMGAPopupL3FG");c.insertBefore(b,h);c.insertBefore(a,h);a.appendChild(d);a.appendChild(h)},setifNews:function(c,b){c&&(c.src=this.strMTKWebDomain+"pgmtkanynews.php?curcl="+XinSDK.myWin8Common.appCurClient+
"&curla="+b+"",c.style.left="10%",c.style.bottom="10%",c.style.width="50%",c.style.height="10%",c.style.position="absolute",c.style.overflow="auto")}});n.getInstance=XinSDK.myWin8Common.singleton(function(){return new n});XinSDK.myMTKCommon=n.getInstance()})()})();(function(){function n(c){this.active={};var b=this;c.addEventListener("keydown",function(a){b._register(a.keyCode)},!1);c.addEventListener("keyup",function(a){b._unregister(a.keyCode)},!1)}XinSDK.PkgMegaTanks||(XinSDK.PkgMegaTanks={});
XinSDK.PkgMegaTanks.PkgBasics||(XinSDK.PkgMegaTanks.PkgBasics={});XinSDK.PkgMegaTanks.PkgBasics._Point=function(c,b){this.x=c;this.y=b};XinSDK.PkgMegaTanks.PkgBasics._Rectangle=function(c,b,a,d){this.left=c;this.top=b;this.right=a;this.bottom=d};XinSDK.PkgMegaTanks.PkgBasics.CFPOS=function(){this.seg=new XinSDK.PkgMegaTanks.PkgBasics._Point(0,0);this.off=new XinSDK.PkgMegaTanks.PkgBasics._Point(0,0)};XinSDK.PkgMegaTanks.PkgBasics.CFSAVED=function(){this.keysets=Array(2);for(var c=0;c<this.keysets.length;c++)this.keysets[c]=
new XinSDK.PkgMegaTanks.PkgBasics.CFKEY};XinSDK.PkgMegaTanks.PkgBasics.CFKEY=function(){};XinSDK.PkgMegaTanks.PkgBasics.CFGEOM=function(){this.rbody=new XinSDK.PkgMegaTanks.PkgBasics._Rectangle(0,0,0,0)};XinSDK.PkgMegaTanks.PkgBasics.CFGameInput=n;(function(){XinSDK.myWin8Common.addMembersToObject(n.prototype,{_register:function(c){this.active[c]=!0},_unregister:function(c){this.active[c]=!1},isDown:function(c){var b=!1;this.active[c]&&(b=!0);return b}})})()})();(function(){function n(){this.DPSM=
6;this.DPSC=2;this.IDMC=0;this.IDMCMAPSEG=100;this.IDMCPICTRSEG=1E4;this.IDMCTOPMAPSEG=1E5;this.IDMCJEWOFF=2E5;this.TRUE=1;this.NULL=this.FALSE=0;this.g_bActive=!0;this.g_speed=20;this.GAME_LOGO=this.g_systimer=0;this.GAME_MENU=1;this.GAME_START=2;this.GAME_PLAY=3;this.GAME_COUNT=4;this.GAME_END=5;this.GAME_OVER=6;this.GAME_INSTRUCTIONS=7;this.SCR_TAB_HEIGHT=this.SCR_TAB_WIDTH=26;this.SCR_START_LEFT=16*this.DPSC;this.SCR_START_TOP=16*this.DPSC;this.MAXPLAYER=2;this.MAXENEMY=100;this.MAXPERBULLET=
2;this.DUP=1;this.DDOWN=2;this.DLEFT=3;this.DRIGHT=4;this.TVOID=16;this.TSTONE=17;this.TGOLD=18;this.TSEA=19;this.TICE=20;this.TGRASS=21;this.TLAIRL=22;this.TLAIRD=23;this.SJNONE=32;this.SJLIFE=33;this.SJSTAR=34;this.SJSTOP=35;this.SJCAP=36;this.SJTNT=37;this.SJKING=38;this.SBULLET=161;this.SBOOM=162;this.SP1=177;this.SP2=178;this.SSTDTANK=186;this.SFASTTANK=187;this.SCANNONTANK=188;this.SHUGETANK=189;this.s_key=Array(256);this.PSTOPPED=this.mem_timer=0;this.PPLAYING=1;this.PREPEATING=2;this.SCENE_LOGO_1PreInit=
0;this.SCENE_LOGO_2LoadRes=2;this.SCENE_LOGO_3WaitAndCheckDone=3;this.SCENE_LOGO_5FinishAll=5;this.SCENE_MENU_1PreInit=101;this.SCENE_MENU_2BoardIn=102;this.SCENE_MENU_3OptionSelect=103;this.SCENE_START_1PreInit=201;this.SCENE_START_2ClearBoard=202;this.SCENE_START_3InitLevel=203;this.SCENE_START_4PrepareLaunch=204;this.SCENE_START_5LaunchBoard=205;this.SCENE_START_6FinishAll=206;this.SCENE_PLAY_RUNNING=301;this.SCENE_PLAY_PAUSE=302;this.SCENE_PLAY_OVER=303;this.SCENE_PLAY_END=304;this.SCENE_COUNT_1PreInit=
401;this.SCENE_COUNT_Delay40=411;this.SCENE_COUNT_Delay8=412;this.SCENE_COUNT_Delay75=413;this.SCENE_COUNT_Delay250=414;this.SCENE_COUNT_3CalcTank=403;this.SCENE_COUNT_4PopBonus=404;this.SCENE_COUNT_5FinishAll=405;this.SCENE_END_0=500;this.SCENE_OVER_1PreInit=601;this.SCENE_OVER_2NewRecordBarIn=602;this.SCENE_OVER_3Wait=603;this.SCENE_OVER_4Delay=604;this.SCENE_OVER_5FinishAll=605;this.SCENE_INSTRUCTIONS_0=700;this.myKey=this.oGameInput=new XinSDK.PkgMegaTanks.PkgBasics.CFGameInput(document);this.aAskingActions=
[];for(var c=[],b=0;8>b;b++){var a=document.createElement("canvas");a.width=8*this.SCR_TAB_WIDTH*this.DPSC;a.height=8*this.SCR_TAB_HEIGHT*this.DPSC;c.push(a)}this.a_cvmyMAPls=c;this.cvmyMAPl=this.a_cvmyMAPls[0];c=document.createElement("canvas");c.width=8*this.SCR_TAB_WIDTH*this.DPSC;c.height=8*this.SCR_TAB_HEIGHT*this.DPSC;this.cvmyMAPh=c;c=document.createElement("canvas");c.width=8*this.SCR_TAB_WIDTH*this.DPSC;c.height=8*this.SCR_TAB_HEIGHT*this.DPSC;this.cvmcSCR=c;this.imgGmClearBg=this.imgMnBackground=
this.imgGmBackground=this.imgImages=null;this.aauGmPlays={};var c={SwStart:"../media/START.mp3",SwBonus:"../media/BONUS.mp3",SwShot:"../media/SHOT.mp3",SwEdie:"../media/EDIE.mp3"},d;for(d in c)b=new Audio,b.innerText=""+d,b.src=c[d],this.aauGmPlays[""+d]=b;this.mcStages={};this.glb=this.oJSONStore=null}XinSDK.PkgMegaTanks||(XinSDK.PkgMegaTanks={});XinSDK.PkgMegaTanks.PkgBasics||(XinSDK.PkgMegaTanks.PkgBasics={});XinSDK.PkgMegaTanks.PkgBasics.CF_Main=n;XinSDK.myWin8Common.addMembersToObject(n.prototype,
{initAttach:function(c,b,a){for(var d=!1;;){this.dvboard=c;this.cvboard=b;this.cvboard.width=640;this.cvboard.height=480;XinSDK.myWin8Common.setWindowOnResize(a);a.apply();c=document.createElement("canvas");c.width=this.cvboard.width;c.height=this.cvboard.height;this.cvBoardTmpBuffer=c;this.mcStages.mc_Menu=new XinSDK.PkgMegaTanks.PkgModels.PkgStages._mc_Menu;this.mcStages.mc_Start=new XinSDK.PkgMegaTanks.PkgModels.PkgStages._mc_Start;this.mcStages.mc_Play=new XinSDK.PkgMegaTanks.PkgModels.PkgStages._mc_Play;
this.mcStages.mc_Over=new XinSDK.PkgMegaTanks.PkgModels.PkgStages._mc_Over;this.mcStages.mc_Count=new XinSDK.PkgMegaTanks.PkgModels.PkgStages._mc_Count;this.mcStages.mc_End=new XinSDK.PkgMegaTanks.PkgModels.PkgStages._mc_End;this.glb=new XinSDK.PkgMegaTanks.PkgRunners.CFGLOBAL;d=this.glb.initGlobal();break}return d},goVersionCheck:function(){if(new Date>=new Date(2027,5,1,0,0,0,0))return this.dvboard.innerHTML='\u8be5\u7248\u672c\u5df2\u65e0\u6cd5\u4f7f\u7528\uff0c\u8bf7\u66f4\u65b0\u81f3\u6700\u65b0\u7248\u672c: <a href="ms-windows-store:Publisher?name=VillaX" style="color: blue; cursor: pointer;">\u73b0\u5728\u66f4\u65b0</a>',
!1},isLoadnCheckOK:function(){var c=!1,b={bAllJsonLoaded:!1,bAllImgLoaded:!1,bAllAudLoaded:!1,bVersionFine:!1};this.oJsonStore&&(b.bAllJsonLoaded=!0);this.imgImages&&this.imgGmBackground&&this.imgMnBackground&&this.imgGmClearBg&&(b.bAllImgLoaded=!0);b.bAllAudLoaded=!0;for(var a in this.aauGmPlays)this.aauGmPlays[a]||(b.bAllAudLoaded=!1);var c=b.bVersionFine=!0,d;for(d in b)0==b[d]&&(c=!1);return c},loadImg:function(c,b){var a=new Image;a.src=XinSDK.myWin8Common.getvLanTxt("forTextFromCode",""+c);
a.onerror=function(d){console.log("error loading image for "+d.toString()+":"+a.src)};return a},loadImages:function(){var c=this.loadImg("`xxx/megatanks_bo`");c.onload=function(){main.imgImages=c};var b=this.loadImg("`xxx/megatanks_gmbg`");b.onload=function(){main.imgGmBackground=b};var a=this.loadImg("`xxx/megatanks_mnbg`");a.onload=function(){main.imgMnBackground=a};var d=this.loadImg("`xxx/megatanks_gmclrbg`");d.onload=function(){main.imgGmClearBg=d}},tmpgetSVG:function(c,b,a,d){main.cvboard.getContext("2d");
var e=c.vxtsContentId,h=c.vxtpiCurrentScene.vxtoOncanvas,k=c.vxtpiCurrentScene.vxtnCurrentFrame-1,f={MtVoid:{BodyVar0:['{"x":0, "y":0, "w":8, "h":8}']},MtStone:{BodyVar0:['{"x":0, "y":8, "w":8, "h":8}'],BodyVar1:['{"x":8, "y":8, "w":8, "h":8}']},MtGold:{BodyVar0:['{"x":0, "y":16, "w":8, "h":8}']},MtSea:{BodyVar0:'{"x":0, "y":24, "w":8, "h":8};{"x":8, "y":24, "w":8, "h":8};{"x":16, "y":24, "w":8, "h":8};{"x":24, "y":24, "w":8, "h":8};{"x":32, "y":24, "w":8, "h":8};{"x":40, "y":24, "w":8, "h":8};{"x":48, "y":24, "w":8, "h":8};{"x":56, "y":24, "w":8, "h":8}'.split(";")},
MtIce:{BodyVar0:['{"x":0, "y":32, "w":8, "h":8}']},MtGrass:{BodyVar0:['{"x":0, "y":40, "w":8, "h":8}']},MtLairL:{BodyVar0:['{"x":0, "y":48, "w":16, "h":16}']},MtLairD:{BodyVar0:['{"x":0, "y":64, "w":16, "h":16}']},MsP1:{BodyVarBomb:['{"x":112, "y":0, "w":16, "h":16}','{"x":112, "y":16, "w":16, "h":16}'],BodyVarL0:'{"x":0, "y":100, "w":16, "h":16};{"x":16, "y":100, "w":16, "h":16};{"x":32, "y":100, "w":16, "h":16};{"x":48, "y":100, "w":16, "h":16};{"x":64, "y":100, "w":16, "h":16};{"x":80, "y":100, "w":16, "h":16};{"x":96, "y":100, "w":16, "h":16};{"x":112, "y":100, "w":16, "h":16}'.split(";"),
BodyVarL1:'{"x":0, "y":116, "w":16, "h":16};{"x":16, "y":116, "w":16, "h":16};{"x":32, "y":116, "w":16, "h":16};{"x":48, "y":116, "w":16, "h":16};{"x":64, "y":116, "w":16, "h":16};{"x":80, "y":116, "w":16, "h":16};{"x":96, "y":116, "w":16, "h":16};{"x":112, "y":116, "w":16, "h":16}'.split(";"),BodyVarL2:'{"x":0, "y":132, "w":16, "h":16};{"x":16, "y":132, "w":16, "h":16};{"x":32, "y":132, "w":16, "h":16};{"x":48, "y":132, "w":16, "h":16};{"x":64, "y":132, "w":16, "h":16};{"x":80, "y":132, "w":16, "h":16};{"x":96, "y":132, "w":16, "h":16};{"x":112, "y":132, "w":16, "h":16}'.split(";"),
BodyVarL3:'{"x":0, "y":148, "w":16, "h":16};{"x":16, "y":148, "w":16, "h":16};{"x":32, "y":148, "w":16, "h":16};{"x":48, "y":148, "w":16, "h":16};{"x":64, "y":148, "w":16, "h":16};{"x":80, "y":148, "w":16, "h":16};{"x":96, "y":148, "w":16, "h":16};{"x":112, "y":148, "w":16, "h":16}'.split(";")},MsP2:{BodyVarBomb:['{"x":112, "y":0, "w":16, "h":16}','{"x":112, "y":16, "w":16, "h":16}'],BodyVarL0:'{"x":0, "y":164, "w":16, "h":16};{"x":16, "y":164, "w":16, "h":16};{"x":32, "y":164, "w":16, "h":16};{"x":48, "y":164, "w":16, "h":16};{"x":64, "y":164, "w":16, "h":16};{"x":80, "y":164, "w":16, "h":16};{"x":96, "y":164, "w":16, "h":16};{"x":112, "y":164, "w":16, "h":16}'.split(";"),
BodyVarL1:'{"x":0, "y":180, "w":16, "h":16};{"x":16, "y":180, "w":16, "h":16};{"x":32, "y":180, "w":16, "h":16};{"x":48, "y":180, "w":16, "h":16};{"x":64, "y":180, "w":16, "h":16};{"x":80, "y":180, "w":16, "h":16};{"x":96, "y":180, "w":16, "h":16};{"x":112, "y":180, "w":16, "h":16}'.split(";"),BodyVarL2:'{"x":0, "y":196, "w":16, "h":16};{"x":16, "y":196, "w":16, "h":16};{"x":32, "y":196, "w":16, "h":16};{"x":48, "y":196, "w":16, "h":16};{"x":64, "y":196, "w":16, "h":16};{"x":80, "y":196, "w":16, "h":16};{"x":96, "y":196, "w":16, "h":16};{"x":112, "y":196, "w":16, "h":16}'.split(";"),
BodyVarL3:'{"x":0, "y":212, "w":16, "h":16};{"x":16, "y":212, "w":16, "h":16};{"x":32, "y":212, "w":16, "h":16};{"x":48, "y":212, "w":16, "h":16};{"x":64, "y":212, "w":16, "h":16};{"x":80, "y":212, "w":16, "h":16};{"x":96, "y":212, "w":16, "h":16};{"x":112, "y":212, "w":16, "h":16}'.split(";")},MsStdtank:{BodyVarBomb:['{"x":112, "y":0, "w":16, "h":16}','{"x":112, "y":16, "w":16, "h":16}'],BodyVarL0:'{"x":0, "y":230, "w":16, "h":16};{"x":16, "y":230, "w":16, "h":16};{"x":32, "y":230, "w":16, "h":16};{"x":48, "y":230, "w":16, "h":16};{"x":64, "y":230, "w":16, "h":16};{"x":80, "y":230, "w":16, "h":16};{"x":96, "y":230, "w":16, "h":16};{"x":112, "y":230, "w":16, "h":16}'.split(";")},
MsFasttank:{BodyVarBomb:['{"x":112, "y":0, "w":16, "h":16}','{"x":112, "y":16, "w":16, "h":16}'],BodyVarL0:'{"x":0, "y":246, "w":16, "h":16};{"x":16, "y":246, "w":16, "h":16};{"x":32, "y":246, "w":16, "h":16};{"x":48, "y":246, "w":16, "h":16};{"x":64, "y":246, "w":16, "h":16};{"x":80, "y":246, "w":16, "h":16};{"x":96, "y":246, "w":16, "h":16};{"x":112, "y":246, "w":16, "h":16}'.split(";")},MsCannontank:{BodyVarBomb:['{"x":112, "y":0, "w":16, "h":16}','{"x":112, "y":16, "w":16, "h":16}'],BodyVarL0:'{"x":0, "y":262, "w":16, "h":16};{"x":16, "y":262, "w":16, "h":16};{"x":32, "y":262, "w":16, "h":16};{"x":48, "y":262, "w":16, "h":16};{"x":64, "y":262, "w":16, "h":16};{"x":80, "y":262, "w":16, "h":16};{"x":96, "y":262, "w":16, "h":16};{"x":112, "y":262, "w":16, "h":16}'.split(";")},
MsHugetank:{BodyVarBomb:['{"x":112, "y":0, "w":16, "h":16}','{"x":112, "y":16, "w":16, "h":16}'],BodyVarL0:'{"x":0, "y":278, "w":16, "h":16};{"x":16, "y":278, "w":16, "h":16};{"x":32, "y":278, "w":16, "h":16};{"x":48, "y":278, "w":16, "h":16};{"x":64, "y":278, "w":16, "h":16};{"x":80, "y":278, "w":16, "h":16};{"x":96, "y":278, "w":16, "h":16};{"x":112, "y":278, "w":16, "h":16}'.split(";")},MsBullet:{BodyVarBL0:['{"x":32, "y":0, "w":4, "h":4}','{"x":32, "y":4, "w":4, "h":4}','{"x":32, "y":8, "w":4, "h":4}',
'{"x":32, "y":12, "w":4, "h":4}'],BodyVarBBomb:['{"x":112, "y":0, "w":16, "h":16, "ox":-6, "oy":-6}','{"x":112, "y":0, "w":16, "h":16, "ox":-6, "oy":-6}','{"x":112, "y":0, "w":16, "h":16, "ox":-8, "oy":-6}','{"x":112, "y":0, "w":16, "h":16, "ox":-6, "oy":-6}']},MsJNone:{BodyVar0:['{"x":48, "y":0, "w":16, "h":16}']},MsJLife:{BodyVar0:['{"x":64, "y":0, "w":16, "h":16}']},MsJStar:{BodyVar0:['{"x":64, "y":16, "w":16, "h":16}']},MsJStop:{BodyVar0:['{"x":64, "y":32, "w":16, "h":16}']},MsJCap:{BodyVar0:['{"x":80, "y":0, "w":16, "h":16}']},
MsJTnt:{BodyVar0:['{"x":80, "y":16, "w":16, "h":16}']},MsJKing:{BodyVar0:['{"x":80, "y":32, "w":16, "h":16}']},MsShell:{BodyVar0:['{"x":144, "y":0, "w":24, "h":24, "ox":-4, "oy":-4}','{"x":144, "y":24, "w":24, "h":24, "ox":-4, "oy":-4}']}};if("Mt"==e.substring(0,2)||"Ms"==e.substring(0,2))if(c=JSON.parse(""+f[e][c.vxtpiCurrentScene.vxtnCurrentBodyVar][k]),c.ox&&(b+=c.ox),c.oy&&(a+=c.oy),d){h.getContext("2d").drawImage(this.imgImages,c.x*this.DPSM,c.y*this.DPSM,c.w*this.DPSM,c.h*this.DPSM,b*this.DPSC,
a*this.DPSC,c.w*this.DPSC,c.h*this.DPSC);c=h.getContext("2d").getImageData(b*this.DPSC,a*this.DPSC,c.w*this.DPSC,c.h*this.DPSC);for(e=0;e<c.data.length;e+=4)c.data[e]*=d.redMultiplier,c.data[e+1]*=d.greenMultiplier,c.data[e+2]*=d.blueMultiplier;h.getContext("2d").putImageData(c,b*this.DPSC,a*this.DPSC)}else h.getContext("2d").drawImage(this.imgImages,c.x*this.DPSM,c.y*this.DPSM,c.w*this.DPSM,c.h*this.DPSM,b*this.DPSC,a*this.DPSC,c.w*this.DPSC,c.h*this.DPSC)},realx:function(c){return 8*c.seg.x+c.off.x},
realy:function(c){return 8*c.seg.y+c.off.y},TheRect:function(c,b,a,d){var e=new XinSDK.PkgMegaTanks.PkgBasics._Rectangle(0,0,0,0);e.left=c;e.top=b;e.right=c+a-1;e.bottom=b+d-1;return e},IsHit:function(c,b){return!(b.left>c.right||b.right<c.left||b.top>c.bottom||b.bottom<c.top)},GetAKey:function(c){var b=!1,a=main.myKey.isDown(c);this.s_key[c]||1!=a||(b=!0);this.s_key[c]=1==a?this.TRUE:this.FALSE;return b},isAskingAction:function(c){var b=!1;this.aAskingActions[c]&&(b=!0,this.aAskingActions[c]=!1);
"Pause"==c&&this.GetAKey(80)&&(b=!0);return b},AskAction:function(c){this.aAskingActions[c]=!0},glb_update:function(c){var b=this,a=b.getTimer();b.mem_timer=a;++b.g_systimer;c.update();setTimeout(function(){b.glb_update(c)},20)},getTimer:function(){return(new Date).getTime()}})})();(function(){function n(d){this.vxtbVisible=!1;this.vxtsContentId="";this.vxtaiMCScenes=[];this.vxtaiMCScenes.push(new XinSDK.PkgMegaTanks.PkgModels.vxcMCScene(d));this.vxtpiCurrentScene=this.vxtaiMCScenes[0]}function c(){n.call(this);
this.vxtpiCurrentScene.vxtnCurrentFrame=1;this._totalframes=40}function b(){n.call(this);this.vxtpiCurrentScene.vxtnCurrentFrame=1;this._totalframes=40}function a(){n.call(this);this.vxtpiCurrentScene.vxtnCurrentFrame=1}function d(){n.call(this);this.vxtpiCurrentScene.vxtnCurrentFrame=1}function e(){n.call(this);this.vxtpiCurrentScene.vxtnCurrentFrame=1;this.dyn=Array(main.MAXPLAYER);for(var d=0;d<this.dyn.length;d++){this.dyn[d]=Array(main.SHUGETANK-main.SSTDTANK+1);for(var a=0;a<main.SHUGETANK-
main.SSTDTANK+1;a++)this.dyn[d][a]=0}}function h(){n.call(this);this._totalframes=this.vxtpiCurrentScene.vxtnCurrentFrame=1}XinSDK.PkgMegaTanks.PkgModels||(XinSDK.PkgMegaTanks.PkgModels={});XinSDK.PkgMegaTanks.PkgModels.CFAct=function(){this.store=Array(main.SJKING-main.SJLIFE+1);this.jew=new XinSDK.PkgMegaTanks.PkgSprites.CL2FJewel};XinSDK.PkgMegaTanks.PkgModels.PkgStages={};XinSDK.PkgMegaTanks.PkgModels.PkgStages._mc_Menu=c;XinSDK.PkgMegaTanks.PkgModels.PkgStages._mc_Start=b;XinSDK.PkgMegaTanks.PkgModels.PkgStages._mc_Play=
a;XinSDK.PkgMegaTanks.PkgModels.PkgStages._mc_Over=d;XinSDK.PkgMegaTanks.PkgModels.PkgStages._mc_Count=e;XinSDK.PkgMegaTanks.PkgModels.PkgStages._mc_End=h;XinSDK.PkgMegaTanks.PkgModels.vxcMCScene=function(d){this.vxtnY=this.vxtnX=0;this.vxtnCurrentBodyVar="";this.vxtnCurrentFrame=1;this.vxtoOncanvas=d;this.vxtnPlayingStatus=main.PSTOPPED;this.gotoQuickPlay=function(d,a,b){null!=d&&(this.vxtnCurrentBodyVar=d);null!=a&&(this.vxtnCurrentFrame=a);null!=b&&(this.vxtnPlayingStatus=b)}};XinSDK.PkgMegaTanks.PkgModels.vxcMContainer=
n;XinSDK.myWin8Common.addMembersToObject(n.prototype,{gotoAndPlay:function(d,a){this.vxtpiCurrentScene.vxtnCurrentFrame=d;null!=a&&(this.vxtnPlayingStatus=a)},removeMovieClip:function(){}});c.prototype=XinSDK.myWin8Common.makeSubClassOf(n);c.prototype.constructor=c;b.prototype=XinSDK.myWin8Common.makeSubClassOf(n);b.prototype.constructor=b;a.prototype=XinSDK.myWin8Common.makeSubClassOf(n);a.prototype.constructor=a;d.prototype=XinSDK.myWin8Common.makeSubClassOf(n);d.prototype.constructor=d;e.prototype=
XinSDK.myWin8Common.makeSubClassOf(n);e.prototype.constructor=e;h.prototype=XinSDK.myWin8Common.makeSubClassOf(n);h.prototype.constructor=h})();(function(){function n(){this.defaultHiScore=2E4;this.act=new XinSDK.PkgMegaTanks.PkgModels.CFAct;this.savdat=new XinSDK.PkgMegaTanks.PkgBasics.CFSAVED;this.players=Array(main.MAXPLAYER);this.enemys=Array(main.MAXENEMY);var c;for(c=0;c<this.players.length;c++)this.players[c]=new XinSDK.PkgMegaTanks.PkgSprites.CL4FPlayer(this);for(c=0;c<this.enemys.length;c++)this.enemys[c]=
new XinSDK.PkgMegaTanks.PkgSprites.CL4FEnemy;this.map=new XinSDK.PkgMegaTanks.PkgWorlds.CFMAP}XinSDK.PkgMegaTanks.PkgRunners||(XinSDK.PkgMegaTanks.PkgRunners={});XinSDK.PkgMegaTanks.PkgRunners.CFGAME=n;(function(){function c(){for(var d=!1;;){var a=parseInt(""+XinSDK.myWin8Common.getRoamingSettings("SETTING_BestScore")),c=parseInt(""+XinSDK.myWin8Common.getRoamingSettings("SETTING_TimeMadeAtMSecsSince1970")),k=parseInt(""+XinSDK.myWin8Common.getRoamingSettings("SETTING_localVerykey"));if(isNaN(a)||
isNaN(c)||isNaN(k))break;k==(a^c^b)&&(d=!0);break}return d}XinSDK.myWin8Common.addMembersToObject(n.prototype,{initGame:function(){this.level=this.plycnt=1;this.loadHiDat();return!0},saveHiDat:function(){for(;!(this.savdat.hiscore<=this.defaultHiScore);){try{var d=(new Date).getTime(),a=this.savdat.hiscore,c=a^d^b;XinSDK.myWin8Common.setRoamingSettings("SETTING_BestScore",""+a);XinSDK.myWin8Common.setRoamingSettings("SETTING_TimeMadeAtMSecsSince1970",""+d);XinSDK.myWin8Common.setRoamingSettings("SETTING_localVerykey",
""+c);XinSDK.myWin8Common.setRoamingSettings("SETTING_justfortakeeffect","",!0)}catch(k){}break}},loadHiDat:function(){for(;;){this.savdat.hiscore=this.defaultHiScore;try{var d=parseInt(""+XinSDK.myWin8Common.getRoamingSettings("SETTING_BestScore"));parseInt(""+XinSDK.myWin8Common.getRoamingSettings("SETTING_TimeMadeAtMSecsSince1970"));parseInt(""+XinSDK.myWin8Common.getRoamingSettings("SETTING_localVerykey"));c()&&d>this.savdat.hiscore&&(this.savdat.hiscore=d)}catch(a){}for(var d=main.dvboard.querySelectorAll(".clsvHiScore"),
b=0;b<d.length;b++)d[b].innerText=""+this.savdat.hiscore;break}},saveDatServer:function(d,b,h){for(;c();){var k=parseInt(""+XinSDK.myWin8Common.getRoamingSettings("SETTING_BestScore")),f=""+XinSDK.myWin8Common.appCurClient,m='{lvl:"'+this.level+'"}',g=parseInt(""+XinSDK.myWin8Common.getRoamingSettings("SETTING_TimeMadeAtMSecsSince1970")),l=k^g%1E8^d.charCodeAt(0)^a;$.post(XinSDK.myMTKCommon.strMTKWebDomain+"stmtkup.php?nm4up="+d+"&sc4up="+k+"&ainf4up="+m+"&cl4up="+f+"&tm2msecsVery="+g+"&uploadVerykey="+
l,function(d){var a=null;try{a=JSON.parse(d);if("villax: mtkup done"!=a.mtkhead)throw"illegal data returned";b&&b(a.mtkdata.reskey)}catch(c){d=main.dvboard.querySelector(".clsdvAllCommonControls .clsvMGA_SERVERERROR_InfoText"),h&&h(""+d.innerHTML)}}).done(function(d){}).fail(function(d){d=main.dvboard.querySelector(".clsdvAllCommonControls .clsvMGA_NETWORKERROR_InfoText");h&&h(""+d.innerHTML)}).always(function(d){});break}},loadWWWRankServer:function(d,a,b,c,f){a||(a=0);b||(b=100);$.post(XinSDK.myMTKCommon.strMTKWebDomain+
"gtmtktbl.php?rfrom="+a+"&rfor="+b+"&reskey="+d,function(d){var a=null;try{a=JSON.parse(d);if("villax: mtktbldata"!=a.mtkhead)throw"illegal data returned";c&&c(a)}catch(b){d=main.dvboard.querySelector(".clsdvAllCommonControls .clsvMGA_SERVERERROR_InfoText"),f&&f(""+d.innerHTML)}}).done(function(d){}).fail(function(d){d=main.dvboard.querySelector(".clsdvAllCommonControls .clsvMGA_NETWORKERROR_InfoText");f&&f(""+d.innerHTML)}).always(function(d){})},loadKeysets:function(){var d=(new XinSDK.PkgMegaTanks.PkgBasics.CFSAVED).keysets;
XinSDK.myWin8Common.getRoamingSettings("SETTING_ControlKeys")?d=JSON.parse(XinSDK.myWin8Common.getRoamingSettings("SETTING_ControlKeys")):(d[0].kup={},d[0].kup.keyCode=73,d[0].kup.keyName="I",d[0].kdown={},d[0].kdown.keyCode=75,d[0].kdown.keyName="K",d[0].kleft={},d[0].kleft.keyCode=74,d[0].kleft.keyName="J",d[0].kright={},d[0].kright.keyCode=76,d[0].kright.keyName="L",d[0].kfire={},d[0].kfire.keyCode=48,d[0].kfire.keyName="0",d[1].kup={},d[1].kup.keyCode=87,d[1].kup.keyName="W",d[1].kdown={},d[1].kdown.keyCode=
83,d[1].kdown.keyName="S",d[1].kleft={},d[1].kleft.keyCode=65,d[1].kleft.keyName="A",d[1].kright={},d[1].kright.keyCode=68,d[1].kright.keyName="D",d[1].kfire={},d[1].kfire.keyCode=49,d[1].kfire.keyName="1",this.saveKeysets(d));return d},saveKeysets:function(d){XinSDK.myWin8Common.setRoamingSettings("SETTING_ControlKeys",JSON.stringify(d),!0)},PlaySnd:function(d){if(d=main.aauGmPlays[""+d])d=d.cloneNode(),d.play();return main.TRUE},createJew:function(){var d=this.map,a=this.act.jew,b=this.act.jew.getXV_bdPs(),
c=this.act.jew.getXV_bdGeom(),f=this.players,m=this.enemys,g=0,l=g=0,t=Array(4);a.enableto(!1);do{b.seg.x=Math.floor(Math.random()*(main.SCR_TAB_WIDTH-1));b.seg.y=Math.floor(Math.random()*(main.SCR_TAB_HEIGHT-6))+2;c.rbody=main.TheRect(main.realx(b),main.realy(b),c.bw,c.bh);t[0]=d.getunit(b.seg.x,b.seg.y);t[1]=d.getunit(b.seg.x,b.seg.y+1);t[2]=d.getunit(b.seg.x+1,b.seg.y);t[3]=d.getunit(b.seg.x+1,b.seg.y+1);for(g=0;g<main.MAXENEMY&&(1!=m[g].getXV_tnkIsLive()||!main.IsHit(c.rbody,m[g].getXV_bdGeom().rbody));g++);
if(!(g<main.MAXENEMY)){for(g=0;g<main.MAXPLAYER&&(1!=f[g].getXV_tnkIsLive()||!main.IsHit(c.rbody,f[g].getXV_bdGeom().rbody));g++);if(!(g<main.MAXPLAYER)){for(g=0;4>g&&(t[g]==main.TSEA||t[g]==main.TGOLD);g++);if(4>g)break}}}while(1E3>++l);a.create(b.seg.x,b.seg.y,Math.floor(Math.random()*(main.SJKING-main.SJLIFE+1))+main.SJLIFE);return main.TRUE},applyJew:function(d,a){for(var b=this.map,c=this.act,f=this.enemys,m=!1;0!=d.getXV_tnkIsLive();){if(a===main.SJLIFE)d.upXV_plyrLife(1);else if(a===main.SJSTAR)3>
d.getXV_tnkFireLevel()&&d.upXV_tnkFireLevel(1);else if(a===main.SJSTOP)c.stoptime=1E3;else if(a===main.SJCAP)d.upXV_plyrDisHelmtCountdown(1E3);else if(a===main.SJTNT)for(b=0;b<main.MAXENEMY;b++)1==f[b].getXV_tnkIsLive()&&0<=f[b].getXV_bdGeom().rbody.top&&(f[b].die(),this.PlaySnd("SwEdie"));else if(a===main.SJKING){c.kingtime=2E3;for(f=-2;1>=f;f+=3)for(c=3;0<c;c--)b.setunit(main.SCR_TAB_WIDTH/2+f,main.SCR_TAB_HEIGHT-c,main.TGOLD);for(f=0;2>f;f++)b.setunit(main.SCR_TAB_WIDTH/2-f,main.SCR_TAB_HEIGHT-
3,main.TGOLD)}m=!0;break}return m},updateBullet:function(d){for(var a=this.map,b=this.act,c=this.players,f=this.enemys,m=d.getXV_bdPs(),g=d.getXV_bdGeom(),l=!1,t=0,u=0,q=0,n=0,r=!1;0!=d.getXV_bltIsLive();){l=m.dt;switch(l){case main.DUP:0>=main.realy(m)&&(r=!0);t=m.seg.x;u=Math.floor(main.realy(m)/8);n=-1;break;case main.DDOWN:main.realy(m)+4-1>=8*main.SCR_TAB_HEIGHT-1&&(r=!0);t=m.seg.x;u=Math.floor((main.realy(m)+4-1)/8);n=1;break;case main.DLEFT:0>=main.realx(m)&&(r=!0);t=Math.floor(main.realx(m)/
8);u=m.seg.y;q=-1;break;case main.DRIGHT:main.realx(m)+4-1>=8*main.SCR_TAB_WIDTH-1&&(r=!0),t=Math.floor((main.realx(m)+4-1)/8),u=m.seg.y,q=1}1==r&&-1!=d.getXV_bltOwnerinx()&&this.PlaySnd("SwHitgld");if(0==r){for(l=0;l<main.MAXENEMY+this.plycnt;l++){var v=void 0,p=l<main.MAXENEMY?f[l]:c[l-main.MAXENEMY];if(-1==d.getXV_bltOwnerinx()){if(0!=p.getXV_tnkIsLive()&&d.ishit(p)&&l>=main.MAXENEMY){if(0<c[l-main.MAXENEMY].getXV_plyrDisHelmtCountdown()){d.setXV_bltIsLive(!1);d.enableto(!1);break}-1!=d.getXV_bltOwnerinx()&&
c[l-main.MAXENEMY].setXV_plyrDisImmobCountdown(401);-1==d.getXV_bltOwnerinx()&&(3<=p.getXV_tnkFireLevel()?p.setXV_tnkFireLevel(2):2==p.getXV_tnkFireLevel()?p.setXV_tnkFireLevel(0):(p.die(),p.setXV_tnkFireLevel(1),c[l-main.MAXENEMY].upXV_plyrLife(-1)));0<p.getXV_tnkHP()?this.PlaySnd("SwDehp"):this.PlaySnd("SwPdie");r=!0;break}for(v=0;v<main.MAXPERBULLET;v++){var w=p.getXV_tnkBullets()[v];0!=w.getXV_bltIsLive()&&d.ishit(w)&&l>=main.MAXENEMY&&(d.setXV_bltIsLive(!1),w.setXV_bltIsLive(!1),d.enableto(!1),
w.enableto(!1))}}else if(d.getXV_bltOwnerinx()!=l-main.MAXENEMY){if(0!=p.getXV_tnkIsLive()&&d.ishit(p)){if(l>=main.MAXENEMY){if(0<c[l-main.MAXENEMY].getXV_plyrDisHelmtCountdown()){d.setXV_bltIsLive(!1);d.enableto(!1);break}-1!=d.getXV_bltOwnerinx()&&c[l-main.MAXENEMY].setXV_plyrDisImmobCountdown(401);-1==d.getXV_bltOwnerinx()&&(3<=p.getXV_tnkFireLevel()?p.setXV_tnkFireLevel(2):2==p.getXV_tnkFireLevel()?p.setXV_tnkFireLevel(0):(p.die(),p.setXV_tnkFireLevel(1),c[l-main.MAXENEMY].upXV_plyrLife(-1)));
0<p.getXV_tnkHP()?this.PlaySnd("SwDehp"):this.PlaySnd("SwPdie")}else f[l].getXV_enmyJew()==main.TRUE&&(f[l].setXV_enmyJew(main.FALSE),this.createJew(),this.PlaySnd("SwCrtjew")),p.upXV_tnkHP(-1),0>=p.getXV_tnkHP()?(c[d.getXV_bltOwnerinx()].upscore(100*(p.getXV_bdType()-main.SSTDTANK+1)),++c[d.getXV_bltOwnerinx()].getXV_plyrKillCnts()[p.getXV_bdType()-main.SSTDTANK],p.die(),this.PlaySnd("SwEdie")):this.PlaySnd("SwDehp");r=!0;break}for(v=0;v<main.MAXPERBULLET;v++)w=p.getXV_tnkBullets()[v],0!=w.getXV_bltIsLive()&&
d.ishit(w)&&(d.setXV_bltIsLive(!1),w.setXV_bltIsLive(!1),d.enableto(!1),w.enableto(!1))}}if(0==r)for(c=0;2>c;c++)a.getunit(t+c*Math.abs(n),u+c*Math.abs(q))==main.TGOLD?(3<=d.getXV_bltLevel()?(a.setunit(t+c*Math.abs(n),u+c*Math.abs(q),main.TVOID),-1!=d.getXV_bltOwnerinx()&&this.PlaySnd("SwDelstn")):-1!=d.getXV_bltOwnerinx()&&this.PlaySnd("SwHitgld"),r=!0):a.getunit(t+c*Math.abs(n),u+c*Math.abs(q))==main.TSTONE&&a.getstnhp(t+c*Math.abs(n),u+c*Math.abs(q))&&(3<=d.getXV_bltLevel()?a.setunit(t+c*Math.abs(n),
u+c*Math.abs(q),main.TVOID):a.setstnhp(t+c*Math.abs(n),u+c*Math.abs(q),a.getstnhp(t+c*Math.abs(n),u+c*Math.abs(q))-1),-1!=d.getXV_bltOwnerinx()&&this.PlaySnd("SwDelstn"),r=!0);0==r&&(m.off.x+=d.getXV_bltSpeed()*q,m.off.y+=d.getXV_bltSpeed()*n)}g.rbody=main.TheRect(main.realx(m),main.realy(m),g.bw,g.bh);1==r&&(d.setXV_bltIsLive(!1),d.setXV_bltDisBomCountdown(10),d=main.TheRect(8*(main.SCR_TAB_WIDTH/2-1),8*(main.SCR_TAB_HEIGHT-2),16,16),main.IsHit(g.rbody,d)&&(0==b.ovrtimer&&(b.ovrtimer=1,this.PlaySnd("SwPdie")),
a.setunit(main.SCR_TAB_WIDTH/2-1,main.SCR_TAB_HEIGHT-2,main.TVOID),a.setunit(main.SCR_TAB_WIDTH/2-1,main.SCR_TAB_HEIGHT-1,main.TVOID),a.setunit(main.SCR_TAB_WIDTH/2,main.SCR_TAB_HEIGHT-2,main.TVOID),a.setunit(main.SCR_TAB_WIDTH/2,main.SCR_TAB_HEIGHT-1,main.TVOID),a.showunit(main.SCR_TAB_WIDTH/2-1,main.SCR_TAB_HEIGHT-2,main.TLAIRD)));l=!0;break}return l},movtank:function(d,a,b){for(var c=this.map,f=this.players,m=this.enemys,g=d.getXV_bdPs(),l=d.getXV_bdGeom(),t=!1,u=void 0,q=Array(2),n=new XinSDK.PkgMegaTanks.PkgBasics._Rectangle(0,
0,0,0),r=new XinSDK.PkgMegaTanks.PkgBasics._Rectangle(0,0,0,0),r=u=0,v=!1,p=b;0!=d.getXV_tnkIsLive();){0>b&&(p=-1==d.getXV_tnkSelfinx()?d.getXV_bdType()==main.SFASTTANK?1.5:.75:1);d.setXV_tnkShapeParam(d.getXV_tnkShapeParam()^1);switch(a){case main.DUP:r=-1;v=0<=main.realy(g)-p;n=main.TheRect(main.realx(g)+1,main.realy(g)-Math.ceil(p)+1,14,1);break;case main.DDOWN:r=1;v=main.realy(g)+p<=8*(main.SCR_TAB_HEIGHT-2);n=main.TheRect(main.realx(g)+1,main.realy(g)+16-1+Math.ceil(p)-1,14,1);break;case main.DLEFT:u=
-1;v=0<=main.realx(g)-p;n=main.TheRect(main.realx(g)-Math.ceil(p)+1,main.realy(g)+1,1,14);break;case main.DRIGHT:u=1,v=main.realx(g)+p<=8*(main.SCR_TAB_WIDTH-2),n=main.TheRect(main.realx(g)+16-1+Math.ceil(p)-1,main.realy(g)+1,1,14)}g.dt!=a&&(g.dt=a,g.off.x*=Number(Math.abs(u)),g.off.y*=Number(Math.abs(r)));if(1==v){for(u=0;u<main.MAXENEMY+this.plycnt&&(b=u<main.MAXENEMY?m[u]:f[u-main.MAXENEMY],d==b||0==b.getXV_tnkIsLive()||(b=b.getXV_bdPs(),r=main.TheRect(main.realx(b)+1,main.realy(b)+1,14,14),1!=
main.IsHit(n,r)));u++);if(u<main.MAXENEMY+this.plycnt)break;switch(a){case main.DUP:-4>g.off.y-p?(--g.seg.y,g.off.y=8+(g.off.y-p)):0>g.off.y-p?(q[0]=c.getunit(g.seg.x,g.seg.y-1),q[1]=c.getunit(g.seg.x+1,g.seg.y-1),q[0]!=main.TSTONE&&q[0]!=main.TGOLD&&q[0]!=main.TSEA&&q[1]!=main.TSTONE&&q[1]!=main.TGOLD&&q[1]!=main.TSEA&&(g.off.y-=p)):g.off.y-=p;break;case main.DDOWN:4<=g.off.y+p?(++g.seg.y,g.off.y=-8+(g.off.y+p)):0<g.off.y+p?(q[0]=c.getunit(g.seg.x,g.seg.y+2),q[1]=c.getunit(g.seg.x+1,g.seg.y+2),q[0]!=
main.TSTONE&&q[0]!=main.TGOLD&&q[0]!=main.TSEA&&q[1]!=main.TSTONE&&q[1]!=main.TGOLD&&q[1]!=main.TSEA&&(g.off.y+=p)):g.off.y+=p;break;case main.DLEFT:-4>g.off.x-p?(--g.seg.x,g.off.x=8+(g.off.x-p)):0>g.off.x-p?(q[0]=c.getunit(g.seg.x-1,g.seg.y),q[1]=c.getunit(g.seg.x-1,g.seg.y+1),q[0]!=main.TSTONE&&q[0]!=main.TGOLD&&q[0]!=main.TSEA&&q[1]!=main.TSTONE&&q[1]!=main.TGOLD&&q[1]!=main.TSEA&&(g.off.x-=p)):g.off.x-=p;break;case main.DRIGHT:4<=g.off.x+p?(++g.seg.x,g.off.x=-8+(g.off.x+p)):0<g.off.x+p?(q[0]=
c.getunit(g.seg.x+2,g.seg.y),q[1]=c.getunit(g.seg.x+2,g.seg.y+1),q[0]!=main.TSTONE&&q[0]!=main.TGOLD&&q[0]!=main.TSEA&&q[1]!=main.TSTONE&&q[1]!=main.TGOLD&&q[1]!=main.TSEA&&(g.off.x+=p)):g.off.x+=p}}l.rbody=main.TheRect(main.realx(g),main.realy(g),l.bw,l.bh);t=!0;break}return t},updateAll:function(){for(var d=this.map,a=this.act,b=this.act.jew,c=this.players,f=this.enemys,m=!1,g=void 0,l=void 0;1!=a.ispause;){++a.gamtimer;0<a.ovrtimer?++a.ovrtimer:0<a.endtimer&&++a.endtimer;0<a.kingtime&&--a.kingtime;
0<a.stoptime&&--a.stoptime;0<b.getXV_jewDissolveCountdown()&&(b.upXV_jewDissolveCountdown(-1),0>=b.getXV_jewDissolveCountdown()&&(b.setXV_bdType(main.SJNONE),b.enableto(!1)));for(l=g=0;l<main.MAXENEMY;l++)1==f[l].getXV_tnkIsLive()&&++g;a.apr_num<a.level_enemies?(0<a.apr_time&&--a.apr_time,0>=a.apr_time&&g<(60<this.level?10:Math.floor((this.level-1)/10)+4)&&(f[a.apr_num].create(a.apr_num),++a.apr_num,a.apr_time=30<this.level?0:40*(6-Math.floor((this.level-1)/5)))):0>=g&&0==a.endtimer&&(a.endtimer=
1);g=!0;for(l=0;l<this.plycnt;l++)1==c[l].getXV_tnkIsLive()&&(0<c[l].getXV_plyrDisImmobCountdown()&&c[l].upXV_plyrDisImmobCountdown(-1),0<c[l].getXV_plyrDisHelmtCountdown()&&c[l].upXV_plyrDisHelmtCountdown(-1),0<c[l].getXV_plyrDisIceCountdown()&&c[l].upXV_plyrDisIceCountdown(-1)),0==c[l].getXV_bdIsEnabled()&&0<c[l].getXV_plyrLife()&&c[l].create(l),0<c[l].getXV_plyrLife()&&(g=!1);1==g&&0==a.ovrtimer&&(a.ovrtimer=1);for(l=0;l<this.plycnt;l++)0!=c[l].getXV_tnkIsLive()&&(1==b.getXV_bdIsEnabled()&&b.getXV_bdType()!=
main.SJNONE&&b.ishit(c[l])&&(1==main.myKey.isDown(17)?++a.store[b.getXV_bdType()-main.SJLIFE]:this.applyJew(c[l],b.getXV_bdType()),b.setXV_bdType(main.SJNONE),b.enableto(!1),c[l].upscore(500),this.PlaySnd("SwFruit")),c[l].getXV_bdGeom().rbody.top>8*(main.SCR_TAB_HEIGHT-2)?this.movtank(c[l],main.DUP,.5):(0>=c[l].getXV_plyrDisImmobCountdown()&&(g=!1,0==a.ovrtimer&&(1==main.myKey.isDown(this.savdat.keysets[l].kleft.keyCode)&&(this.movtank(c[l],main.DLEFT,-1),g=!0),1==main.myKey.isDown(this.savdat.keysets[l].kright.keyCode)&&
(this.movtank(c[l],main.DRIGHT,-1),g=!0),1==main.myKey.isDown(this.savdat.keysets[l].kup.keyCode)&&(this.movtank(c[l],main.DUP,-1),g=!0),1==main.myKey.isDown(this.savdat.keysets[l].kdown.keyCode)&&(this.movtank(c[l],main.DDOWN,-1),g=!0)),m=c[l].getXV_bdPs(),main.TICE==d.getunit(m.seg.x,m.seg.y)||main.TICE==d.getunit(m.seg.x+1,m.seg.y)||main.TICE==d.getunit(m.seg.x,m.seg.y+1)||main.TICE==d.getunit(m.seg.x+1,m.seg.y+1)?!g&&0<c[l].getXV_plyrDisIceCountdown()?this.movtank(c[l],m.dt,-1):g&&c[l].setXV_plyrDisIceCountdown(50):
c[l].setXV_plyrDisIceCountdown(0)),0==a.ovrtimer&&1==main.myKey.isDown(this.savdat.keysets[l].kfire.keyCode)&&c[l].Createbullet()==main.TRUE&&this.PlaySnd("SwShot")));1==main.myKey.isDown(66)&&2==this.plycnt&&(0>=c[0].getXV_plyrLife()&&1<c[1].getXV_plyrLife()&&(c[0].upXV_plyrLife(1),c[1].upXV_plyrLife(-1)),0>=c[1].getXV_plyrLife()&&1<c[0].getXV_plyrLife()&&(c[1].upXV_plyrLife(1),c[0].upXV_plyrLife(-1)));for(l=0;l<main.MAXENEMY;l++)0!=f[l].getXV_tnkIsLive()&&(0>f[l].getXV_bdGeom().rbody.top?this.movtank(f[l],
main.DDOWN,.5):0>=a.stoptime&&(d=Math.floor(1E3*Math.random()),960>d?(200>d&&f[l].Createbullet(),d=f[l].getXV_bdPs(),this.movtank(f[l],d.dt,-1)):970>d?this.movtank(f[l],main.DUP,-1):980>d?this.movtank(f[l],main.DDOWN,-1):990>d?this.movtank(f[l],main.DLEFT,-1):1E3>d&&this.movtank(f[l],main.DRIGHT,-1)));for(l=0;l<main.MAXENEMY;l++){for(g=0;g<main.MAXPERBULLET;g++)a=f[l].getXV_tnkBullets()[g],1==a.getXV_bltIsLive()&&this.updateBullet(a);0<f[l].getXV_tnkFireCountdown()&&f[l].upXV_tnkFireCountdown(-1)}for(l=
0;l<this.plycnt;l++){for(g=0;g<main.MAXPERBULLET;g++)f=c[l].getXV_tnkBullets()[g],1==f.getXV_bltIsLive()&&this.updateBullet(f);0<c[l].getXV_tnkFireCountdown()&&c[l].upXV_tnkFireCountdown(-1)}m=!0;break}return m},recovermap:function(){var d=this.map,a=this.act,c=this.act.jew,b=void 0,f=void 0,m=void 0;if(0<a.kingtime&&400>a.kingtime&&0==a.kingtime%30){m=0==a.kingtime%60?main.TGOLD:main.TSTONE;for(b=-2;1>=b;b+=3)for(f=3;0<f;f--)d.setunit(main.SCR_TAB_WIDTH/2+b,main.SCR_TAB_HEIGHT-f,m),d.setstnhp(main.SCR_TAB_WIDTH/
2+b,main.SCR_TAB_HEIGHT-f,2);for(b=0;2>b;b++)d.setunit(main.SCR_TAB_WIDTH/2-b,main.SCR_TAB_HEIGHT-3,m),d.setstnhp(main.SCR_TAB_WIDTH/2-b,main.SCR_TAB_HEIGHT-3,2)}c.toshow();return main.TRUE},showGameInfo:function(){var a=this.act,c=this.players,b=main.dvboard.querySelector(".clsdvGmPLAYInfoPinpup");b.querySelector(".clsvCurLevel").innerText!=""+this.level&&(b.querySelector(".clsvCurLevel").innerText=""+this.level);b.querySelector(".clsvEnemiesComing").innerText!=""+(a.level_enemies-a.apr_num)&&(b.querySelector(".clsvEnemiesComing").innerText=
""+(a.level_enemies-a.apr_num));a=void 0;for(a=0;a<main.MAXPLAYER;a++)if(!(a>=this.plycnt)){b.querySelector(".clsvP"+(a+1)+"Life").innerText!=""+c[a].getXV_plyrLife()&&(b.querySelector(".clsvP"+(a+1)+"Life").innerText=""+c[a].getXV_plyrLife());if(b.querySelector(".clsvP"+(a+1)+"Score").innerText=""+c[a].getXV_plyrScore())b.querySelector(".clsvP"+(a+1)+"Score").innerText=""+c[a].getXV_plyrScore();for(var k=b.querySelectorAll(".clsdvInfoP"+(a+1)),f=0;f<k.length;f++)k[f].style.display="block"}},showAll:function(){var a=
this.act,c=this.players,b=this.enemys,k=void 0,f=void 0,m=main.cvmcSCR.getContext("2d");m.drawImage(main.cvmyMAPl,0,0);main.cvmyMAPl=main.a_cvmyMAPls[Math.floor(a.gamtimer/3)%8];for(f=0;f<main.MAXENEMY;f++)for(k=0;k<main.MAXPERBULLET;k++)a=b[f].getXV_tnkBullets()[k],1==a.getXV_bdIsEnabled()&&a.toshow();for(f=0;f<this.plycnt;f++)for(k=0;k<main.MAXPERBULLET;k++)a=c[f].getXV_tnkBullets()[k],1==a.getXV_bdIsEnabled()&&a.toshow();for(f=0;f<main.MAXENEMY;f++)1==b[f].getXV_bdIsEnabled()&&1==b[f].getXV_tnkIsLive()&&
b[f].toshow();for(f=0;f<this.plycnt;f++)1==c[f].getXV_bdIsEnabled()&&1==c[f].getXV_tnkIsLive()&&c[f].toshow();for(f=0;f<main.MAXENEMY;f++)1==b[f].getXV_bdIsEnabled()&&0==b[f].getXV_tnkIsLive()&&b[f].toshow();for(f=0;f<this.plycnt;f++)1==c[f].getXV_bdIsEnabled()&&0==c[f].getXV_tnkIsLive()&&c[f].toshow();m.drawImage(main.cvmyMAPh,0,0);this.recovermap();main.cvboard.getContext("2d").drawImage(main.cvmcSCR,main.SCR_START_LEFT,main.SCR_START_TOP);return main.TRUE}});var b=3180,a=9527})()})();(function(){function n(c,
b){this.dvboard=c;this.cvboard=b;this.savdat=new XinSDK.PkgMegaTanks.PkgBasics.CFSAVED;this.tm=Array(10);for(var a=0;a<this.tm.length;a++)this.tm[a]=0;this.gm=new XinSDK.PkgMegaTanks.PkgRunners.CFGAME;this.__fm_logo=3;this.__fm_menu=4;this.__fm_start=5;this.__fm_play=6;this.__fm_count=7;this.__fm_end=8;this.__fm_over=9;this.__fm_instructions=10}XinSDK.PkgMegaTanks.PkgRunners||(XinSDK.PkgMegaTanks.PkgRunners={});XinSDK.PkgMegaTanks.PkgRunners.CFGLOBAL=n;XinSDK.myWin8Common.addMembersToObject(n.prototype,
{initGlobal:function(){var c=this.gm.act,b=this.gm.players,a=0;if(0==this.gm.initGame())return!1;this.xState=main.GAME_LOGO;this.xScene=main.SCENE_LOGO_1PreInit;for(a=0;10>a;a++)this.tm[a]=0;for(a=0;a<main.SJKING-main.SJLIFE+1;a++)c.store[a]=1;for(a=0;a<main.MAXPLAYER;a++)b[a].setXV_plyrLife(3),b[a].setXV_plyrScore(0),b[a].setXV_tnkFireLevel(1);return!0},loadlevel:function(c){var b=this.gm,a=this.gm.act,d=this.gm.act.jew,e=this.gm.map,h=this.gm.players,k=this.gm.enemys,f=0,m=0,f=m=0,g=void 0,l="11111111111111111122     ;44222211111111111111     ;11111111111111222244     ;33333333332222211444     ;33333441111111122222     ;33333332211111111444     ;11122223333331111111     ;33333334422221111111     ;11111122223333333444     ;11111111111122333344     ;22222444443333222222     ;33333333222222444444     ;33333333222222444444     ;33333333332222444444     ;11222222222244444444     ;11111111111111112244     ;44223333333311111111     ;44441133333322222222     ;22224444444411113333     ;22222222113344444444     ;33333333221111114444     ;22222222111111334444     ;44444433332222222222     ;33334422221111111111     ;33222222224444444444     ;22222244444411113333     ;33444444442222222211     ;22411111111111111133     ;33333333332222444444     ;11112222222233334444     ;33322222222444444333     ;44444444111111332222     ;22224444444433332222     ;33332222222222444444     ;33332222224444444444     ".split(";"),
g="0000000000000000000000000000000000000044000000000000001100110011001100110011000011001100110011001100110000110011001100110011001100001100110011001100110011000011001100112211001100110000110011001122110011001100001100110011001100110011000011001100000000001100110000110011000000000011001100000000000011001100000000000000000000110011000000000011001111000000000011110011220011110000000000111100220000000000110011000000000000000000001111110000000000001100110011111100110011000011001100110011001100110000110011001100110011001100001100110011001100110011000011001100000000001100110000110011000000000011001100001100110001111000110011000000000000010010000000000000000000440100100000000000 0000002200000022000000000000000022000044220000000000001100220000001100110011000011002200000011001100110000110000000011110011221100001100000000111100112211000000001100000000002200000000000011000000000022000000550000110000220000115511225500001100002200001155112255550000001100002200550000555500000011000022005500000011111155555522000055110000111111555555220000551100000000225511001100110011000000002255110011001100110022110022001100110000001100221100220011001100000011000011001100111111001122110000110011001111110011221100001100110011111100000000000011001100111111000000000000110000000000000011001100001100000001111000110011000011001100010010001111110000110011440100100011111100 0000000011000000110000000000000000110044001100000000005555551100000000000000000055555511000000000022222211555555000000000000000000115555550000000000000000005555555500000011001111111055555555000000110011111110555555551111111100110001005555555511111100001100010055555555000011000000000100555555550000110000000001000055000000002222220000550000550000000022222200005500000000000000000000555555550011001100000000005555555511100111100111111155555555111001111001000000555555550000000000110000005555555500000000001100111155555555110000200000001111555555001100002000000000005555550011110020000000000055555500111100200001111000555555002211110000010010001100000022111100440100100011000000 0055550000000000000000550000555500000044000000005500555500000011110000000000555555000011111111110000005555000001111111111111000022550000011111111111111100002200001111111111111111100000000011111111111111111000000001110000001111110010000000010000000000111100100033000100200020001110000000330001002000200011100000000000110000000000111000333300001100111100001110003333000011111111111111110000000000111111111111111100000000011111111111111111100000000111111111111111111000000011111111111111111111000000000011111111111100000000001111001111111100111100550011111100111100111111005555001111000000001111005555550000000001111000000055552255000000010010000055552222550000440100100000555522 0000000011110000000000000000000000111144000000000000000000001100000022222200002200110011000000000022000022001100000011000000000000220011000000110000000000001100111111001111003333003311001111110011110033330033110000001100000000330000000000000000000000003300000000000000333300333333001111000011003333003333330011111111000033110011100000000011110000331100111000000000000000003300000000000220000000000033000000000002200033333300330022001100020000333333003300220011000200000000000000000000000002111100000011110000000000021111000000001111111111000000000000000011000000111100000011111100000000000011110000111100000001111000001100001100000000010010000000000000000000440100100000000000 0000000000010010555500000000000000000144105555000000001002001000000001551001550010020010000000015510015500100200100011000155100155001002001000110001551001550011000011002200115500115500110000110022001155001155000000012200110011200055550000000100001100002000555511111000005511550000011111111110000055115500000111110000000001555555100000000000000000015555551000000000221111001155555511011111222211110000555555000111112222222200000055000000222222000000001100550011000000000011000011000000110000000000110000110000001100000000001110000011001100000111550011100000000000000001115500001100000000000000555555000000000001111000005555550000000000010010000000555500001100440100100000115555 0000000000000022220000000000000000000044000000000000000022222222000000002200000000220000000000000022000000002200000055002222220000000022000000550000222200000022000000552200000022000000220000005522000000220000000000005522220000002222000000000055222200000000220000220055222222002200000000002200552222220022000000000002002222000000222200000000020022220000002222000000200000002200222222000002002000000022002222220000020000022200000022225500002200000222000000222255000022000022000000002255000022220000220000000022550000222200002222220000550000220000000000002200005500002200000000000000000000000022000022000000000001111000000022220000000000010010000000000022220000440100100000000000 0000110000110000001100000000001100001144110011000000551111110011000000111000005511111100110022001110000055555500001100110011000110555555000000001100000001105533333333333333333333003355333333333333333333330033001100000000000000000000000011000000001111000000000000001100000111111111112222000011000001111100110000001111001100011111551100001111110011000111115511222211000000220000005555555500000000002200220055555555000033330033333333330033333333333300333333333300333333335555000100000000000000000055550001000011110000000000555511001000000100000011005555110010000001002211110055001100100000000011001100552211001001111000000011000000000000010010000000110000000000000100100011000000 0000001100000000000055000000000011000044000022550000110000000000005502222000111100000000002255022220001100000000550222200022550000000000225502222000005500000000022220002255000000000000000222200000550000000000000000225500000000000000000000000055000000000000000000000055005500550055000000000000552255005522550000002211000222200002222000112222110002222000022220001122000000552255005522550000000000005500550055005500000000000000000000000000000000000000002200000022000000001100000222200002222000001111000002222000022220000011110000552255005522550000111100005500550055005500001100000000000000000000000000000011000001111000001100000000111100010010001111000000001111440100100011110000 0000000000000000000000000000000000000044000000000000000111110000000000001111100001001100000000000011001001110000110055550011000001010000001100555500110000011100000011555555551100000111000000115555555511000001110000011155222255111000111100000111552222551110001101000011333333333333111111011111113333333333331111110011111122221122221111111000111111222211222211111110000011112200110022111110000000111122001100221111100000001111111111111111111000000011111111111111111110001155111111222211111111551111550000002222000000005511115555555555555555555555111155555555555555555555551100005555550000005555555500000055555501111055555555000000001000010010000010000000000010440100100000100000 0000000000220011001111000000000000002244110011110000000111111111001100000000000001111111110011000000000000000010001100111100555555000000100011001111005555550001000000000022005555555500010000000000220055555555000100111111221111555511220001001111112211115555002200111111220000110055550001000000002200001100555500010111111100225555555555000001111111002255555555550000000000220000555555555511000000002200005555555555110022110055555555225555551100221100555555552255555511000111555555555500000000111001115555555555000000001110001155550000000022111111000011555500000000001111110000005555000000000011000100000055550001111000110001000000555500010010000000000000115555000100100000000000 0000000000000011111100000000000000000044111111000000001111110000000000110000000011111111001100001100000000000000110011000000001111000000001100000000000011110033333333330011100000112200333333333300111000001100000000000033001100222011000000222222330011002220110011001111113333330033111100110011111133333300331111000000000022330000003322000000000000223300000033000000333333003333111100330000003333330033331111003300000000000000001122220033333300000000000011000000333333001111110000000000000000000011111100000000000000000000000011002222000000111100010000110000000000001111000111000000000000000011000011110000000001111000110000110000000000010010000000000000000000440100100000000000 0000000000000000000000000000000000110044001100000000001111111100000011111111000011111111000000111111110000110000000011000000002200001100000000110000000022000022001111000000111100111100220011000000000011001111001100105500220055010022110011001055222222550100221100110000555555555500002211000000005555555555000000111100000055555555550000001111220000555555555500001111112200105522222255010011001122001055002200550100110011110011000000000011002200111100111100000011110022001122000000001100000000110011220000000011000000001100111111111100000011111122221111111111000000111111222211110000110000001100001100111100000001111000000011001111000000010010000000000011110000440100100000000000 0000000000000000000000000000000000000044000000000000555500000011111100000055555555000011111111110000555555000001111111111110000055550000011111111111100000550000001111551155111100000000000011115511551111000000000000115555115555110000000000001155551155551100000055000011111111111111000055550000111111111111110000555555000011551155110000555555550000115511551100005555333333001111111111003333333333330011111111110033333300000000010101010100000000000000000101010101000000000000000010101010100000000000000000101010101000000000020202000000000000002020200202020000000000000020202010101000000000000000010101101010000001111000000101012020200200010010002002020220202002440100100020020202 0000000011110000110000000000000000111144001100000000005555111100000011000000000055551111000000110000000055555555555555551111000000555555555555555511110000005522115511111155555555112255001155111111555555551122555511555555225555112011005555115555550055551120110000555511005555555511001100005555112255555555110011000011111111115555111110555500111111111155551111105555022211110000001111000000550200111100000011000000005500110011000000115555111055001100110022110055551110550011000001111155551100005500110000011100555511000055001111100111555500551155550011111001005555115511555500001100550000001155115500000011005501111011550055000000110000010010005555550000000000440100100055555500 0000000000000000000000000000000000000044000000000000000022552200000000000000000000225522000000000000000000000055005500000000000000000000550055220000000000000055000000005500000000000000550000000055110000000000005555000055005500000000000055550000550055220000000000550055005500005500000000005500550055000055110000000055000055000000555500000000550000550000005555220000000055000000005555555500000000550000000055555555110000000055000055005555555500000000550000550055555555001100000000005500005555552211000000000055000055555522111100000000005500555555551111000000000055005555555522111100000000005500555555221111000001111055005555552222111100010010550000555522221111440100105500005555 0000000000000000000000000000000000110044000000110000001100111100004444441111000011001111000044444411110000110000110022444444444400001100001100224444444444004444442011000011444444440044444420110000114444444400444444444444111101100000004444444444441111011000000000000244444444110110002222000002444444441101100000001111111144444444444444111111111111444444444444441111000000111144444444200000000000001111444444442000000000111111004444441111001100001111110044444411110011004444441144000000001100110044444411440000000011001100444444444422002200000011004444444444000000000011110011444444440000000011000000114444444401111000110000001111200000010010001100110011112000440100100011001100 0000000000000000222222550000000000000044002222225500001100000000000022000022000011000000000000220000220011551100000011111111002200115511000000111111110022000011551100001100551122220000115511000011005511222200000011005522115500110000000000110055221155001100000000000000220011221111000000000000002200112211110000000000111122110022000000000000001111221100220000000000000011005511225500000000000000110055112255000000000022222255001100001111000000222222550011000011110000002200111111110000112222000022001111111100001122220000220000220000000000221111002200002200000000002211110055222222000000000000112222552222220001111000001122220000000000010010000000222200000000440100100000002222 0011001100110011001100110000110011001144110011001100001100110011001100110011000011001100110011001100110000220022002200220022002200000000000000000000000000000000000011000000110000000011001100110000001100110011110011111100110011111100111100110011001100110011001122002200220022002200220022000000002200000022000000005555000011005500110000555555550000110055001100005555555555551111551111555555555555555511005500115555555555555555555555555555555555555555555555555555555555550000000011555555110000000011001100115555551100110011001100110000550000110011000011001100005500001100110000110011000000000011001100001100110001111000110011000011001100010010001100110000000000440100100000000000 0000003300110000110011000000000033001144001100110000000000000000000011002200000000000000000000110022000000000033000022001100110000000000330011220011001100002200113300220000110011000000001133002200110000110000000011330000001100000000000000113300000011000000000011001133330033333333000011110011333300333333330000110000000000000055003300222200000011000000550033000000111101110022555555330000001111011100225555553300111111000100001155555533001100000001000011555555330011000000000000110055003300550000220000001100550033005500001100000011111100005555550011002200000000000055555500110011000000000033555555001100110001111000335555550000000000010010003300550000000000440100100033005500 0000000000000000000000000000000011111144001100000000000011111111111111110000000011111111111111111100000000555555555555555511110000005555555555555555111100005555000000000000555511110055550000000000005555111100550022000022000000555555005500220000220000005555550055002200002200000055555500550022000022000000555555005500005500000000555511111055000055000000005555111110555555555555555555111111105555555555555555551111111011555511115555551111111100115555111155555511111111000011111111111111111111002200111111111111111111110022220011221111111111111000222200112211111111111110002200221111220000001111222222002211002201111011112222220000000000010010000000000000000000000100100000000000 0000000000550000000000000000000000005544000000000000000000005522550000000000000000000055225500000000000000005500005500005555000000000055000055000055550000000055115500000055111155000000551155000000551111550000000055115500000055550000550000551155000000555500005555000055000055000000005522550000550000550000000055221155000000552255000055005511550000005522550000550055221155000000550000552255002211550000005500005522550011550000550000005500550000115500005500000055005500005500005511550055115500000055000055115500551155000000000000551155000055000055000000005511550000550000550000550000550000000000552255005500005501111000005522555522550000010010005511550055225500440100100055115500 0000000000000000000000000000000000000044000000000000000000000022220000000000000000000000222200000000000000000000000022000000000000000000000000220000000000000022225555112211555522220000222255551122115555222200000000225555225555220000000000002255552255552200000055000000225555552200000055550000002255555522000000552255000000555555000000552222550000005555550000005522550000000022552200000000555500000022005500220000005500000000220000002200000000000000002200220022000000000000002200002200002200000000000022000022000022000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000001111000000000000000220000010010000022000000002200440100100000220000 0000220011220000000001000000002200110044000000010000000011001155001111111100000000110011550000111111000000555500115501100000002222005555001155011000000022225555555555551111110001110055555555555511111100011100000055550000221100011111010000555511110011000111000111220000111100000011110001110000110000000000110000010100001144444444444444444401001111444444444444444444010011004444444444444444440100000044444444444444444400002200444444444444444444000022004444444444444444441100110044444444444444444411001100444444444444444444010011004444444444444444440100110044444444444444444401001100000000004444444444010011000001111044444444440000110000010010004444444400000000440100100044444444 0000002200110011001100220000000022001144110011002200001100110000000000220000000011001100000000002200000000110011000022000022002222001100110000220000220022220011000000110022110000002200110000001100221100000022000000001111001111002200000000000011110011110022000000002200110000111100111100000022001100001111001111002200220000110022000022110022002200001100220000221100000011110011000000112200000000111100110000001122000000221111001111001111000011002211110011110011110000110011000000112200000000111100110000001122000000001111000000110011112200220000110000001100111122002200001111001111000000000011220000110011110001111000112200001100110000010010001111110011001100440100100011111100 0000333300000000000000000000003333000044000000000000000000335500100000000000002200003355001000000000000055000000000020001000333300552200000000200010003333005555002200010000205533000055550000110100002055330000555555000022000100000000005555550000221101000000002255552200000100220000000055555500220001002211000022555522000011220001002200555555000000002200010000005555000000000010112200005555550000000000100022000055555500003355020000101100225555000033550200001000220055550033330001000200000000005500333300010002000000000055000000000000010055330000220000000000000100553300000022000000000000000033330000220000000001111000333300002222000000010010000000002222220000440100100000000022 0000000022000000000000000000000000220044000000000000222200002200002222000000002222000022000022220000000000220000220000002200222255002200002200000022002222550022000022222200550022000000220000222222005500220000001100000000220022222200000011000000002200222222000055222200221122111100000000552222002211221111000000000000225522550000110000222200002255225500001100002222000022000055000022000022000000220000550000220000220000001100002200002222112200000011000022000022221122005522222255551122220011220055222222555511222200112200000000110000000055550011000000001100000000555500110000000022000000000055001100000000220001111000550011000000002200010010002200110000000022440100100022001100 0000000000000000000002200000000000000044000000022000000000000000000000002200000000000000002200000022000000000000000055000011100000000000000011551100111000000000000000555555001110000000000000225555552211100000000000005555445555111000000000001155554455551110000000000055554444445555100000000022555544444455551000000000555544444444445555000000115555444444444455551100005555444444444444445555002255554444444444444455552255554444444444444444445555555544444444444444444455550055444444444444444444550000554444444444444444445500005544444444444444444455000055444444444444444444550000554444440000004444445500005544444401111044444455000055444400010010004444550000554444440100100044445500 0000000000000000000011000000000000000044000000110000001133330022001100000000000011333300220011000000000000003333115555553333002200000033331155555533330022000000000000555555333311000000000000005555553333110000002200003333005500000000000022000033330055000000000055551100333322000000001100555511003333220000000011005555550000000000002200002255555500000000000022000022001133330011000000000000000011333300110000000000000022003333555533335555001100220033335555333355550011000000000055003333555533330000000000550033335555333300000000225500000055553333000000002255000000555533330000001100110000000000000000000011001101111000000000001100000000010010001122000011000000440100100011220000 0000000000000000000000000000000000000044000000000000000000000000000000000000000000000000111100000022000000000000005555000000550000002222001155552200115511000055550055555555005555550011555511555555551155555511555555555555555555555555555555555555555555555555555522553355555555553355555555225533555555555533555555555555333333555555333333552255553333335555553333335522555555553355225555553355555555555533552255555533555555555555555555555555555555555555555555555555555555555555555555111155555555552255555555550000555555555500225555551100001155555522000055555500000000555555000000221111000000001111110000000000000001111000000000000000000000010010000000000000000000440100100000000000 0000003300000000330000000000000033000044003300000000333300330033333333003333333333003300333333330033333355551100001100003300335533555511000011000033003355335533333333002200001155555555333333330022000011555555555500330000330033333333555555003300003300333333335533330033003333000033000000333300330033330000330000000000115511001155003300003300001155110011550033000033003333553333333300551100330033335533333333005511003311000011000033005555330033110000110000330055553300333333003333003311333333000033330033330033113333330000000011005555000055330000330000110055550000553300003300333333550000000033003333003333335501111000330033330033000000010010000000000000330000440100100000000000 4444444444440044444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444411444444444411444444444444114444444444114444444411001100114411001100114444110011001144110011001144441111110000000000111111444400001100000000001100004444444411001122110011444444444444111111221111114444442244444400220022004444442222444444000000000044444422444444440000000000444444444444444400110011004444444444444444001100110044444444444444440011001100444444444444441100000000001144444444444411000011000011444444441144110022222200114411444411441100000000001144114400110011000000000011001100001111110001111000111111000011000000010010000000110000000000440100100000000000 0000000022000000002200000000000000220044000022000000002200000022000022555500000022000000220000225555000000002200000000225500200000000022000000002255222000000000002200555555555500020000000022005555555555000200002000002255552255000022000020000022555522550000220000222055002255552200000200000020550022555522000002000000555555555500002200000000005555555555000022000000000020550022550000002200000022205500225500000022000000555555220022000000002200005555552200220022000022005555552200000000020000000055555522000000000200000000000022000000000000000002220000220000000000000000022200000000000000000000200000000000000001111000222000002000000000010010000000000020002200440100100000000000 0000000010010000000000000000000000100144000000000000101010010010000010100000001010100100100000101000000010101011110000001011100000101010111100000010111000000101001110000001101111000001010011100000011011110000001000110110001011111100000010001101100010111111000000100100001110110101110000001001000011101101011100000010000001111110001011000000100000011111100010110000000100001011111000101100000001000010111110001011000000011111001111110010101111000100000011111100101000110001000001101101101010010100010000011011011010100101000010001101101111000001000000100011011011110000010000001001100000001110001000000010011001111011100010000000100100010010001111000000001001440100100011110000 0000000000000000000000000000000000000044000000000000000000001100110000000000000000000011001100000000000055000055115511550000550000550000551155115500005500001155551111111111555511550011555511111111115555115500111111112211221111111155001111111122112211111111550033333311111111113333335500333333111111111133333355003311111111111111111133335533111111111111111111333355111111331111113311111155551111113311111133111111555511113333331133333311113333111133333311333333111133335533335555555555333355335555333355555555553333553355005555000000000055550055000055550000000000555500550000000000000000000000000000000000000001111000000000000000000000010010000000000000000000440100100000000000".split(" ");
a.level_enemies=20;for(f=0;f<main.MAXENEMY;f++)for(35<c?(50<c&&(a.level_enemies=30),70<c&&(a.level_enemies=40),80<c&&(a.level_enemies=50),90<c&&(a.level_enemies=70),100<c&&(a.level_enemies=100),k[f].setXV_bdType(main.SSTDTANK+Math.floor(Math.random()*(main.SHUGETANK-main.SSTDTANK+1)))):k[f].setXV_bdType(Number(l[c-1].charAt(f))-1+main.SSTDTANK),k[f].setXV_enmyJew(0==c%10?main.TRUE:0==(f-3)%7?main.TRUE:main.FALSE),k[f].setXV_tnkIsLive(!1),k[f].enableto(!1),m=0;m<main.MAXPERBULLET;m++){var t=k[f].getXV_tnkBullets()[m];
t.enableto(!1);t.setXV_bltIsLive(!1)}for(m=0;m<main.SCR_TAB_HEIGHT;m++)for(f=0;f<main.SCR_TAB_WIDTH;f++)e.setunit(f,m,Number(g[(c-1)%35].charAt(m*main.SCR_TAB_WIDTH+f))+main.TVOID),e.setstnhp(f,m,2);a.ispause=!1;a.gamtimer=0;a.ovrtimer=0;a.endtimer=0;a.kingtime=0;a.stoptime=0;a.apr_num=0;a.apr_time=0;d.enableto(!1);d.setXV_bdType(main.SJNONE);d.setXV_jewDissolveCountdown(0);for(f=0;f<b.plycnt;f++){for(m=0;m<main.MAXPERBULLET;m++)c=h[f].getXV_tnkBullets()[m],c.enableto(!1),c.setXV_bltIsLive(!1);for(g=
0;g<main.SHUGETANK-main.SSTDTANK+1;g++)h[f].getXV_plyrKillCnts()[g]=0;h[f].enableto(!1);h[f].setXV_tnkIsLive(!1);h[f].create(f)}for(f=-1;3>f;f++)for(m=1;3>m;m++)e.setunit(main.SCR_TAB_WIDTH/2-f,main.SCR_TAB_HEIGHT-m,main.TSTONE);e.showunit(main.SCR_TAB_WIDTH/2-1,main.SCR_TAB_HEIGHT-2,main.TLAIRL);for(g=-5;3>=g;g+=8)for(m=0;2>m;m++)for(f=0;2>f;f++)e.setunit(main.SCR_TAB_WIDTH/2+g+f,main.SCR_TAB_HEIGHT-2+m,main.TVOID);for(g=0;g<=main.SCR_TAB_WIDTH;g+=main.SCR_TAB_WIDTH/2-1)for(m=0;2>m;m++)for(f=0;2>
f;f++)e.setunit(g+f,m,main.TVOID);b.PlaySnd("SwStart");return main.TRUE},update:function(){var c=main.TRUE,b=this.xState;b===main.GAME_LOGO?c=this.updateLogo():b===main.GAME_MENU?c=this.updateMenu():b===main.GAME_START?c=this.updateStart():b===main.GAME_PLAY?c=this.updatePlay():b===main.GAME_COUNT?c=this.updateCount():b===main.GAME_END?c=this.updateEnd():b===main.GAME_OVER&&(c=this.updateOver());return c},updateLogo:function(){for(var c=this.gm,b=this.gm.act,a=main.FALSE;;){main.dvboard.querySelector(".clsdvGmLOGOMainBoard").style.display=
"block";if(this.xScene==main.SCENE_LOGO_1PreInit){this.xScene=main.SCENE_LOGO_2LoadRes;a=main.TRUE;break}if(this.xScene==main.SCENE_LOGO_2LoadRes){$.getJSON("../data/data.json.txt",function(a){main.oJsonStore=a;XinSDK.myMTKCommon.strMTKWebDomain=main.oJsonStore.srcGeneralData.sMTKWebDomain});main.goVersionCheck();main.loadImages();var d=main.dvboard.querySelector(".clsdvAllCommonControls .clsdvGmKeyIntroPopup");c.savdat.keysets=c.loadKeysets();d.querySelector(".clsdvKeys1PUp .clsvKey").innerText=
c.savdat.keysets[0].kup.keyName;d.querySelector(".clsdvKeys1PDown .clsvKey").innerText=c.savdat.keysets[0].kdown.keyName;d.querySelector(".clsdvKeys1PLeft .clsvKey").innerText=c.savdat.keysets[0].kleft.keyName;d.querySelector(".clsdvKeys1PRight .clsvKey").innerText=c.savdat.keysets[0].kright.keyName;d.querySelector(".clsdvKeys1PFire .clsvKey").innerText=c.savdat.keysets[0].kfire.keyName;d.querySelector(".clsdvKeys2PUp .clsvKey").innerText=c.savdat.keysets[1].kup.keyName;d.querySelector(".clsdvKeys2PDown .clsvKey").innerText=
c.savdat.keysets[1].kdown.keyName;d.querySelector(".clsdvKeys2PLeft .clsvKey").innerText=c.savdat.keysets[1].kleft.keyName;d.querySelector(".clsdvKeys2PRight .clsvKey").innerText=c.savdat.keysets[1].kright.keyName;d.querySelector(".clsdvKeys2PFire .clsvKey").innerText=c.savdat.keysets[1].kfire.keyName;var e=main.dvboard.querySelector(".clsdvGmPLAYVirtualKeyPad"),a=e.querySelector(".clsdvKeyUp"),h=e.querySelector(".clsdvKeyDown"),k=e.querySelector(".clsdvKeyLeft"),f=e.querySelector(".clsdvKeyRight"),
m=e.querySelector(".clsdvKeyFire"),e=e.querySelector(".clsdvKeyPause");a.onmspointerdown=a.ontouchstart=a.onmousedown=function(){main.myKey._register(c.savdat.keysets[0].kup.keyCode)};a.onmspointerup=a.onmspointerout=a.ontouchend=a.ontouchcancel=a.onmouseup=a.onmouseout=function(){main.myKey._unregister(c.savdat.keysets[0].kup.keyCode)};h.onmspointerdown=h.ontouchstart=h.onmousedown=function(){main.myKey._register(c.savdat.keysets[0].kdown.keyCode)};h.onmspointerup=h.onmspointerout=h.ontouchend=h.ontouchcancel=
h.onmouseup=h.onmouseout=function(){main.myKey._unregister(c.savdat.keysets[0].kdown.keyCode)};k.onmspointerdown=k.ontouchstart=k.onmousedown=function(){main.myKey._register(c.savdat.keysets[0].kleft.keyCode)};k.onmspointerup=k.onmspointerout=k.ontouchend=k.ontouchcancel=k.onmouseup=k.onmouseout=function(){main.myKey._unregister(c.savdat.keysets[0].kleft.keyCode)};f.onmspointerdown=f.ontouchstart=f.onmousedown=function(){main.myKey._register(c.savdat.keysets[0].kright.keyCode)};f.onmspointerup=f.onmspointerout=
f.ontouchend=f.ontouchcancel=f.onmouseup=f.onmouseout=function(){main.myKey._unregister(c.savdat.keysets[0].kright.keyCode)};m.onmspointerdown=m.ontouchstart=m.onmousedown=function(){main.myKey._register(c.savdat.keysets[0].kfire.keyCode)};m.onmspointerup=m.onmspointerout=m.ontouchend=m.ontouchcancel=m.onmouseup=m.onmouseout=function(){main.myKey._unregister(c.savdat.keysets[0].kfire.keyCode)};e.onmspointerdown=e.ontouchstart=e.onmousedown=function(){main.myKey._register(80)};e.onmspointerup=e.onmspointerout=
e.ontouchend=e.ontouchcancel=e.onmouseup=e.onmouseout=function(){main.myKey._unregister(80)};a=main.dvboard.querySelector(".clsdvGmMENUMainBoard .clsspGoIntro");h=main.dvboard.querySelector(".clsdvGmPLAYMainBoard .clsspGoIntro");a.onclick=function(){d.style.display="block";d.querySelector(".clsspGoBackFromIntro").onclick=function(){d.style.display="none"}};h.onclick=function(){var a=b.ispause;b.ispause=!0;d.style.display="block";d.querySelector(".clsspGoBackFromIntro").onclick=function(){d.style.display=
"none";b.ispause=a}};var g=main.dvboard.querySelector(".clsdvGmPLAYExitGameBarPopup"),a=main.dvboard.querySelector(".clsdvGmPLAYExitGameBarPopup .clsspGoYesExitGame");main.dvboard.querySelector(".clsdvGmPLAYExitGameBarPopup .clsspGoNoExitGame").onclick=function(){g.style.display="none"};a.onclick=function(){g.style.display="none";main.AskAction("ExitGame")};a=main.dvboard.querySelector(".clsdvGmPLAYMainBoard .clsspGoExitPause");h=main.dvboard.querySelector(".clsdvGmPLAYMainBoard .clsspGoExitGame");
a.onclick=function(){main.AskAction("Pause")};h.onclick=function(){g.style.display="block"};a=main.dvboard.querySelectorAll(".clsdvGmKeyIntroPopup .clsdvKeySet");for(h=0;h<a.length;h++)for(f=a[h],f.querySelector(".clsvKey"),k=f.querySelector(".clsspGoSetKey"),f=f.querySelector(".clsspDetectKey_Outbody"),k.onclick=function(a){for(var c=a.target.parentNode;document!=c&&!c.querySelector(".clsspDetectKey_Outbody");)c=c.parentNode;a=c.querySelector(".clsvKey");c=c.querySelector(".clsspDetectKey_Outbody");
a.innerText="...";c.style.display="block";c.focus()},f.onkeydown=function(a){for(var b=a.target.parentNode;document!=b&&!b.querySelector(".clsvKey");)b=b.parentNode;b=b.querySelector(".clsvKey");b.innerText=a.key||a.keyIdentifier;var d=parseInt(this.innerText.split("@")[0]),f=this.innerText.split("@")[1];c.savdat.keysets[d][f].keyCode=a.keyCode;c.savdat.keysets[d][f].keyName=b.innerText;c.saveKeysets(c.savdat.keysets);this.style.display="none"},k=main.dvboard.querySelectorAll(".clsspGoSetLan"),f=
0;f<k.length;f++)k[f].onclick=function(a){XinSDK.myWin8Common.localizeAllStrings(main.dvboard,this.attributes["data-vmtkval"].value,!0);main.loadImages();XinSDK.myMTKCommon.setifNews(XinSDK.myMTKCommon.ifNews,XinSDK.myWin8Common.getCurLangcode())};this.xScene=main.SCENE_LOGO_3WaitAndCheckDone;a=main.TRUE;break}if(this.xScene==main.SCENE_LOGO_3WaitAndCheckDone){1==main.isLoadnCheckOK()&&(this.xScene=main.SCENE_LOGO_5FinishAll);a=main.TRUE;break}if(this.xScene==main.SCENE_LOGO_5FinishAll){this.tm[main.GAME_LOGO]=
0;main.dvboard.querySelector(".clsdvGmLOGOMainBoard").style.display="none";this.xState=main.GAME_MENU;this.xScene=main.SCENE_MENU_1PreInit;main.dvboard.querySelector(".clsdvGmMENUMainBoard").style.display="block";a=main.TRUE;break}break}return a},updateMenu:function(){for(var c=this.gm,b=main.FALSE;;){if(this.xScene==main.SCENE_MENU_1PreInit){b=main.cvBoardTmpBuffer.getContext("2d");b.fillStyle="#000000";b.fillRect(0,0,main.cvBoardTmpBuffer.width,main.cvBoardTmpBuffer.height);var a=main.cvboard.getContext("2d");
a.drawImage(main.cvBoardTmpBuffer,0,0);this.xScene=main.SCENE_MENU_2BoardIn;main.mcStages.mc_Menu.gotoAndPlay(1,main.PPLAYING);b=main.TRUE;break}if(this.xScene==main.SCENE_MENU_2BoardIn){if(10>=main.mcStages.mc_Menu.vxtpiCurrentScene.vxtnCurrentFrame)b=main.cvBoardTmpBuffer.getContext("2d"),a=main.cvboard.getContext("2d"),b.drawImage(main.imgMnBackground,main.mcStages.mc_Menu.vxtpiCurrentScene.vxtnCurrentFrame*main.cvboard.width/10-main.cvboard.width,0),a.drawImage(main.cvBoardTmpBuffer,0,0),main.mcStages.mc_Menu.vxtpiCurrentScene.vxtnCurrentFrame++;
else{this.xScene=main.SCENE_MENU_3OptionSelect;var d=this,b=main.dvboard.querySelector(".clsdvGmMENUMainBoard .clsspGo1P"),a=main.dvboard.querySelector(".clsdvGmMENUMainBoard .clsspGo2P"),e=main.dvboard.querySelector(".clsspGoWWWRank");main.dvboard.querySelector(".clsdvDisplayAfterIn").style.display="block";b.onclick=function(){main.GAME_MENU==d.xState&&d.startxP(d,1)};a.onclick=function(){main.GAME_MENU==d.xState&&d.startxP(d,2)};e.onclick=function(){if(main.GAME_MENU==d.xState){var a=main.dvboard.querySelector(".clsdvGmMENUWWWRankPopup");
a.style.display="block";a.querySelector(".clsspGoBackFromWWWRank").onclick=function(){a.style.display="none"};var b=a.querySelector(".clsdvLastUpdate"),f=new Date;if(!(3E4>Math.abs(f.getTime()-parseInt(b.innerText)))){b.innerText=""+f.getTime();var m=a.querySelector(".clsdvWWWRankDataTable"),b=main.dvboard.querySelector(".clsdvAllCommonControls .clsvMGA_GETTINGDATA_InfoText");m.innerHTML=""+b.innerHTML;var g=a.querySelector(".clsdvWWWRankMyWWWRank");g.innerHTML="";var l=XinSDK.myWin8Common.getRoamingSettings("SETTING_reskeyScoreUploaded");
c.loadWWWRankServer(""+l,0,100,function(b){var c=0,d="",f="",e=0,k="",n=!1,w=b.mtkdata.prnk,x;for(x in b.mtkdata.rnks){if(100<++c)break;f!=b.mtkdata.rnks[x].sc&&(e=c);var f=b.mtkdata.rnks[x].sc,k=b.mtkdata.rnks[x].nm.replace(/@tm-.*?@/g,""),y="";l==b.mtkdata.rnks[x].rk&&(y="font-weight: bold; color: red;",n=!0);d+='<tr><td style="background-color: #396070;'+y+'">'+e+'</td><td style="background-color: #396070;'+y+'">'+k+'</td><td style="background-color: #396070;'+y+'">'+f+"</td></tr>"}m.innerHTML=
a.querySelector(".clsdvWWWRankData_InfoHTML_TableTemplate").innerHTML;g.innerHTML=a.querySelector(".clsdvWWWRankData_InfoHTML_MyRankTemplate").innerHTML;0==(isNaN(w)||0>=w)&&(g.querySelector(".clsvMyWWWRank").innerHTML=w,n||(d+='<tr><td colspan="3">---</td></tr>',f=b.mtkdata.rnkp.sc,k=b.mtkdata.rnkp.nm.replace(/@tm-.*?@/g,""),d+='<tr><td style="background-color: #396070;font-weight: bold; color: red;">'+w+'</td><td style="background-color: #396070;font-weight: bold; color: red;">'+k+'</td><td style="background-color: #396070;font-weight: bold; color: red;">'+
f+"</td></tr>"));m.querySelector(".clstlWWWRankDataList").innerHTML+=d},function(a){var b=main.dvboard.querySelector(".clsdvAllCommonControls .clsvMGA_GETDATAFAILHEAD_InfoText");m.innerHTML=""+b.innerHTML+""+a})}}}}b=main.TRUE;break}if(this.xScene==main.SCENE_MENU_3OptionSelect){b=main.TRUE;break}break}return b},startxP:function(c,b){c.gm.PlaySnd("SwShot");main.dvboard.querySelector(".clsdvDisplayAfterIn").style.display="none";main.dvboard.querySelector(".clsdvGmMENUWWWRankPopup").style.display="none";
main.dvboard.querySelector(".clsdvGmMENUMainBoard").style.display="none";c.initGlobal();c.gm.plycnt=b;1==c.gm.plycnt?main.dvboard.querySelector(".clsdvGmPLAYVirtualKeyPad").style.display="block":main.dvboard.querySelector(".clsdvGmPLAYVirtualKeyPad").style.display="none";c.tm[main.GAME_MENU]=0;c.xState=main.GAME_START;c.xScene=main.SCENE_START_1PreInit;main.dvboard.querySelector(".clsdvGmSTARTMainBoard").style.display="block"},updateStart:function(){for(var c=this.gm,b=this.gm.act.jew,a=this.gm.players,
d=this.gm.enemys,e=main.FALSE;;){if(200<c.level){this.tm[main.GAME_START]=0;this.xState=main.GAME_OVER;this.xScene=main.SCENE_OVER_1PreInit;main.dvboard.querySelector(".clsdvGmOVERMainBoard").style.display="block";e=main.TRUE;break}if(this.xScene==main.SCENE_START_1PreInit){1!=c.level;for(var h=e=0,h=0;h<main.MAXENEMY;h++)for(d[h].enableto(!1),e=0;e<main.MAXPERBULLET;e++)d[h].getXV_tnkBullets()[e].enableto(!1);for(h=0;h<c.plycnt;h++)for(a[h].enableto(!1),e=0;e<main.MAXPERBULLET;e++)a[h].getXV_tnkBullets()[e].enableto(!1);
b.enableto(!1);this.xScene=main.SCENE_START_2ClearBoard;main.mcStages.mc_Start.gotoAndPlay(1,main.PPLAYING);e=main.TRUE;break}if(this.xScene==main.SCENE_START_2ClearBoard){if(20>=main.mcStages.mc_Start.vxtpiCurrentScene.vxtnCurrentFrame){c=main.cvBoardTmpBuffer.getContext("2d");b=main.cvboard.getContext("2d");a=main.cvboard.width;d=main.cvboard.height/2-main.cvboard.height/2*(20-main.mcStages.mc_Start.vxtpiCurrentScene.vxtnCurrentFrame)/20;e=main.cvboard.width/main.imgGmClearBg.width;h=main.cvboard.height/
main.imgGmClearBg.height;c.drawImage(main.imgGmClearBg,0,0,a/e,d/h,0,0,a,d);var k=main.cvboard.height/2+main.cvboard.height/2*(20-main.mcStages.mc_Start.vxtpiCurrentScene.vxtnCurrentFrame)/20;c.drawImage(main.imgGmClearBg,0,k/h,a/e,d/h,0,k,a,d);b.drawImage(main.cvBoardTmpBuffer,0,0);main.mcStages.mc_Start.vxtpiCurrentScene.vxtnCurrentFrame++}else b=main.dvboard.querySelector(".clsdvGmSTARTMainBoard").querySelector(".clsdvGmSTARTLevelInfoPinpup"),b.querySelector(".clsvGmSTARTLevel").innerText=""+c.level,
b.style.display="block",this.xScene=main.SCENE_START_3InitLevel;e=main.TRUE;break}if(this.xScene==main.SCENE_START_3InitLevel){main.cvmyMAPh.getContext("2d").clearRect(0,0,main.cvmyMAPh.width,main.cvmyMAPh.height);this.loadlevel(c.level);console.log("...level loaded. -STAGE "+c.level);this.xScene=main.SCENE_START_4PrepareLaunch;main.mcStages.mc_Start.gotoAndPlay(1,main.PPLAYING);e=main.TRUE;break}if(this.xScene==main.SCENE_START_4PrepareLaunch){e=50;main.mcStages.mc_Start.vxtpiCurrentScene.vxtnCurrentFrame<
e?main.mcStages.mc_Start.vxtpiCurrentScene.vxtnCurrentFrame++:(this.xScene=main.SCENE_START_5LaunchBoard,main.mcStages.mc_Start.gotoAndPlay(1,main.PPLAYING));e=main.TRUE;break}if(this.xScene==main.SCENE_START_5LaunchBoard){e=20;main.mcStages.mc_Start.vxtpiCurrentScene.vxtnCurrentFrame<=e?(c=main.cvBoardTmpBuffer.getContext("2d"),b=main.cvboard.getContext("2d"),c.drawImage(main.imgGmBackground,0,0),c.drawImage(main.cvmyMAPl,main.SCR_START_LEFT,main.SCR_START_TOP),c.drawImage(main.cvmyMAPh,main.SCR_START_LEFT,
main.SCR_START_TOP),a=main.cvboard.width,d=main.cvboard.height/2-main.cvboard.height/2*main.mcStages.mc_Start.vxtpiCurrentScene.vxtnCurrentFrame/e,k=main.cvboard.height/2+main.cvboard.height/2*main.mcStages.mc_Start.vxtpiCurrentScene.vxtnCurrentFrame/e,e=main.cvboard.width/main.imgGmClearBg.width,h=main.cvboard.height/main.imgGmClearBg.height,0<d&&(c.drawImage(main.imgGmClearBg,0,0,a/e,d/h,0,0,a,d),c.drawImage(main.imgGmClearBg,0,k/h,a/e,d/h,0,k,a,d)),b.drawImage(main.cvBoardTmpBuffer,0,0),main.mcStages.mc_Start.vxtpiCurrentScene.vxtnCurrentFrame++):
this.xScene=main.SCENE_START_6FinishAll;e=main.TRUE;break}if(this.xScene==main.SCENE_START_6FinishAll){this.tm[main.GAME_START]=0;b=main.dvboard.querySelector(".clsdvGmSTARTMainBoard").querySelector(".clsdvGmSTARTLevelInfoPinpup");b.style.display="none";main.dvboard.querySelector(".clsdvGmSTARTMainBoard").style.display="none";this.xState=main.GAME_PLAY;this.xScene=main.SCENE_PLAY_RUNNING;main.dvboard.querySelector(".clsdvGmPLAYMainBoard").style.display="block";e=main.TRUE;break}break}return e},updatePlay:function(){for(var c=
this.gm,b=this.gm.act,a=main.FALSE;;){if(1<=b.ovrtimer&&this.xScene!=main.SCENE_PLAY_OVER){this.xScene=main.SCENE_PLAY_OVER;main.mcStages.mc_Play.gotoAndPlay(1,main.PPLAYING);a=main.TRUE;break}if(this.xScene!=main.SCENE_PLAY_PAUSE){if(this.xScene==main.SCENE_PLAY_RUNNING){if(main.isAskingAction("Pause")){b.ispause=!0;this.xScene=main.SCENE_PLAY_PAUSE;main.mcStages.mc_Play.gotoAndPlay(1,main.PPLAYING);a=main.TRUE;break}if(500<=b.endtimer){a=main.cvBoardTmpBuffer.getContext("2d");b=main.cvboard.getContext("2d");
a.drawImage(main.imgGmBackground,0,0);a.drawImage(main.cvmyMAPl,main.SCR_START_LEFT,main.SCR_START_TOP);a.drawImage(main.cvmyMAPh,main.SCR_START_LEFT,main.SCR_START_TOP);b.drawImage(main.cvBoardTmpBuffer,0,0);main.dvboard.querySelector(".clsdvGmPLAYMainBoard").style.display="none";this.xState=main.GAME_COUNT;this.xScene=main.SCENE_COUNT_1PreInit;main.dvboard.querySelector(".clsdvGmCOUNTMainBoard").style.display="block";a=main.TRUE;break}}if(this.xScene==main.SCENE_PLAY_OVER){var d=main.dvboard.querySelector(".clsdvGmPLAYOverBarPopup");
if(400<=main.mcStages.mc_Play.vxtpiCurrentScene.vxtnCurrentFrame){main.dvboard.querySelector(".clsdvGmPLAYMainBoard").style.display="none";d.style.display="none";this.xState=main.GAME_OVER;this.xScene=main.SCENE_OVER_1PreInit;main.dvboard.querySelector(".clsdvGmOVERMainBoard").style.display="block";a=main.TRUE;break}else 1!=main.mcStages.mc_Play.vxtpiCurrentScene.vxtnCurrentFrame&&100>=main.mcStages.mc_Play.vxtpiCurrentScene.vxtnCurrentFrame&&(d.style.bottom=""+main.mcStages.mc_Play.vxtpiCurrentScene.vxtnCurrentFrame/
100/2*100+"%",d.style.display="block"),main.mcStages.mc_Play.vxtpiCurrentScene.vxtnCurrentFrame++}c.updateAll();c.showGameInfo()}c.showAll();if(this.xScene==main.SCENE_PLAY_PAUSE)if(5==main.mcStages.mc_Play.vxtpiCurrentScene.vxtnCurrentFrame){if(main.isAskingAction("ExitGame")){c=main.dvboard.querySelector(".clsdvGmPLAYPauseBarPopup");c.style.display="none";main.dvboard.querySelector(".clsdvGmPLAYMainBoard").style.display="none";this.xState=main.GAME_MENU;this.xScene=main.SCENE_MENU_1PreInit;this.tm[main.GAME_OVER]=
0;main.dvboard.querySelector(".clsdvGmMENUMainBoard").style.display="block";a=main.TRUE;break}main.isAskingAction("Pause")&&main.mcStages.mc_Play.gotoAndPlay(6,main.PPLAYING)}else 11==main.mcStages.mc_Play.vxtpiCurrentScene.vxtnCurrentFrame?(c=main.dvboard.querySelector(".clsdvGmPLAYPauseBarPopup"),c.style.display="none",b.ispause=!1,this.xScene=main.SCENE_PLAY_RUNNING):(c=main.dvboard.querySelector(".clsdvGmPLAYPauseBarPopup"),4>=main.mcStages.mc_Play.vxtpiCurrentScene.vxtnCurrentFrame?(b=(4-main.mcStages.mc_Play.vxtpiCurrentScene.vxtnCurrentFrame)/
4,c.style.left="0%",c.style.right="-"+100*b+"%",c.style.display="block"):10>=main.mcStages.mc_Play.vxtpiCurrentScene.vxtnCurrentFrame&&(b=(main.mcStages.mc_Play.vxtpiCurrentScene.vxtnCurrentFrame-4-2)/4,c.style.left="-"+100*b+"%",c.style.right="0%",c.style.display="block"),main.mcStages.mc_Play.vxtpiCurrentScene.vxtnCurrentFrame++);break}return a},updateCount:function(){for(var c=this.gm,b=this.gm.players,a=void 0,d=void 0,a=main.FALSE;;){if(this.xScene==main.SCENE_COUNT_1PreInit){for(d=0;d<main.MAXPLAYER;d++)for(main.dvboard.querySelector(".clsdvGmCOUNTP"+
(d+1)+"Board").style.display=c.plycnt<=d?"none":"block",a=0;a<main.SHUGETANK-main.SSTDTANK+1;a++)main.mcStages.mc_Count.dyn[d][a]=0,main.dvboard.querySelector(".clsdvGmCOUNTP"+(d+1)+"Board").querySelector(".clsvPxKilly"+a).innerText="",main.dvboard.querySelector(".clsdvGmCOUNTP"+(d+1)+"Board").querySelector(".clsvPxPtsy"+a).innerText="",main.dvboard.querySelector(".clsdvGmCOUNTP"+(d+1)+"Board").querySelector(".clsvPxKillTotal").innerText="",main.dvboard.querySelector(".clsdvGmCOUNTP"+(d+1)+"Board").querySelector(".clsvPxBonus").innerText=
"";for(d=0;d<c.plycnt;d++)main.dvboard.querySelector(".clsdvGmCOUNTP"+(d+1)+"Board").querySelector(".clsvPxScore").innerText=""+b[d].getXV_plyrScore();a=b[0].getXV_plyrScore();for(d=0;d<c.plycnt;d++)b[d].getXV_plyrScore()>a&&(a=b[d].getXV_plyrScore());a>c.savdat.hiscore&&(c.savdat.hiscore=a,c.saveHiDat(),c.loadHiDat());main.dvboard.querySelector(".clsvLevel").innerText=""+c.level;for(a=0;a<main.SHUGETANK-main.SSTDTANK+1;a++)c=main.dvboard.querySelector(".clscvPicy"+a),c.width=16*main.DPSC,c.height=
16*main.DPSC,c=new XinSDK.PkgMegaTanks.PkgModels.vxcMCScene(c),c.gotoQuickPlay("BodyVarL0",1,null),main.tmpgetSVG({vxtsContentId:["MsStdtank","MsFasttank","MsCannontank","MsHugetank"][a],vxtpiCurrentScene:c},0,0);this.xScene=main.SCENE_COUNT_3CalcTank;main.mcStages.mc_Count.gotoAndPlay(1,main.PPLAYING);a=main.TRUE;break}if(this.xScene==main.SCENE_COUNT_Delay40||this.xScene==main.SCENE_COUNT_Delay8||this.xScene==main.SCENE_COUNT_Delay75||this.xScene==main.SCENE_COUNT_Delay250){b=c=0;this.xScene==main.SCENE_COUNT_Delay40&&
(c=40,b=main.SCENE_COUNT_3CalcTank);this.xScene==main.SCENE_COUNT_Delay8&&(c=8,b=main.SCENE_COUNT_3CalcTank);this.xScene==main.SCENE_COUNT_Delay75&&(c=75,b=main.SCENE_COUNT_4PopBonus);this.xScene==main.SCENE_COUNT_Delay250&&(c=250,b=main.SCENE_COUNT_5FinishAll);main.mcStages.mc_Count.vxtpiCurrentScene.vxtnCurrentFrame<c?main.mcStages.mc_Count.vxtpiCurrentScene.vxtnCurrentFrame++:this.xScene=b;a=main.TRUE;break}if(this.xScene==main.SCENE_COUNT_3CalcTank){for(a=0;a<main.SHUGETANK-main.SSTDTANK+1;a++){for(d=
0;d<c.plycnt&&!(main.mcStages.mc_Count.dyn[d][a]<=b[d].getXV_plyrKillCnts()[a]);d++);if(d<c.plycnt)break}if(a<main.SHUGETANK-main.SSTDTANK+1){for(d=0;d<c.plycnt;d++)main.mcStages.mc_Count.dyn[d][a]<=b[d].getXV_plyrKillCnts()[a]&&(main.dvboard.querySelector(".clsdvGmCOUNTP"+(d+1)+"Board").querySelector(".clsvPxKilly"+a).innerText=""+main.mcStages.mc_Count.dyn[d][a],main.dvboard.querySelector(".clsdvGmCOUNTP"+(d+1)+"Board").querySelector(".clsvPxPtsy"+a).innerText=""+(a+1)*main.mcStages.mc_Count.dyn[d][a]*
100,++main.mcStages.mc_Count.dyn[d][a]);for(d=0;d<c.plycnt&&!(main.mcStages.mc_Count.dyn[d][a]<=b[d].getXV_plyrKillCnts()[a]);d++);this.xScene=d>=c.plycnt?main.SCENE_COUNT_Delay40:main.SCENE_COUNT_Delay8;main.mcStages.mc_Count.gotoAndPlay(1,main.PPLAYING);c.PlaySnd("SwCntdida")}else{for(var e=[0,0],d=0;d<c.plycnt;d++){for(a=0;a<main.SHUGETANK-main.SSTDTANK+1;a++)e[d]+=b[d].getXV_plyrKillCnts()[a];main.dvboard.querySelector(".clsdvGmCOUNTP"+(d+1)+"Board").querySelector(".clsvPxKillTotal").innerText=
""+e[d]}if(1<c.plycnt){main.mcStages.mc_Count.winner=0;b=e[0];for(d=0;d<c.plycnt;d++)e[d]>=b&&(b=e[main.mcStages.mc_Count.winner=d]);b==e[0]&&0!=main.mcStages.mc_Count.winner&&(main.mcStages.mc_Count.winner=-1)}this.xScene=main.SCENE_COUNT_Delay75;main.mcStages.mc_Count.gotoAndPlay(1,main.PPLAYING)}a=main.TRUE;break}if(this.xScene==main.SCENE_COUNT_4PopBonus){1<c.plycnt&&-1!=main.mcStages.mc_Count.winner&&(b[main.mcStages.mc_Count.winner].upscore(1E3),main.dvboard.querySelector(".clsdvGmCOUNTP"+(main.mcStages.mc_Count.winner+
1)+"Board").querySelector(".clsvPxBonus").innerText="BONUS! 1000",c.PlaySnd("SwBonus"));this.xScene=main.SCENE_COUNT_Delay250;main.mcStages.mc_Count.gotoAndPlay(1,main.PPLAYING);a=main.TRUE;break}if(this.xScene==main.SCENE_COUNT_5FinishAll){for(d=0;d<main.MAXPLAYER;d++)main.dvboard.querySelector(".clsdvGmCOUNTP"+(d+1)+"Board").querySelector(".clsvPxBonus").innerText="";++c.level;main.dvboard.querySelector(".clsdvGmCOUNTMainBoard").style.display="none";this.xState=main.GAME_START;this.xScene=main.SCENE_START_1PreInit;
this.tm[main.GAME_COUNT]=0;main.dvboard.querySelector(".clsdvGmSTARTMainBoard").style.display="block";a=main.TRUE;break}break}return a},updateEnd:function(){main.mcStages.mc_End.vxtpiCurrentScene.vxtnCurrentFrame>=main.mcStages.mc_End._totalframes&&(this.xState=main.GAME_OVER,this.tm[main.GAME_END]=0,gotoAndPlay(this.__fm_over));return main.TRUE},updateOver:function(){for(var c=this.gm,b=this.gm.players,a=main.FALSE;;){if(this.xScene==main.SCENE_OVER_1PreInit){for(var a=void 0,d=b[0].getXV_plyrScore(),
a=0;a<c.plycnt;a++)b[a].getXV_plyrScore()>d&&(d=b[a].getXV_plyrScore());d>c.savdat.hiscore?(c.savdat.hiscore=d,c.saveHiDat(),c.loadHiDat(),this.xScene=main.SCENE_OVER_2NewRecordBarIn,main.mcStages.mc_Over.gotoAndPlay(1,main.PPLAYING)):this.xScene=main.SCENE_OVER_5FinishAll;a=main.TRUE;break}if(this.xScene==main.SCENE_OVER_2NewRecordBarIn){b=100;if(main.mcStages.mc_Over.vxtpiCurrentScene.vxtnCurrentFrame<b)b=main.dvboard.querySelector(".clsdvGmOVERNewRecordBar"),b.style.bottom="50%",b.style.visibility=
"visible",main.mcStages.mc_Over.vxtpiCurrentScene.vxtnCurrentFrame++;else{var e=this,b=main.dvboard.querySelector(".clsdvGmOVERUploadRecordPanePopup"),h=b.querySelector(".clsvNickname"),k=b.querySelector(".clsbtnUploadRecord"),f=b.querySelector(".clsbtnCancelUpload"),m=b.querySelector(".clsdvMsgInfo");h.value="";m.innerText="";k.disabled=!1;f.disabled=!1;b.style.display="block";f.onclick=function(){if(main.GAME_OVER==e.xState){k.disabled=!0;f.disabled=!0;var a=main.dvboard.querySelector(".clsdvAllCommonControls .clsvMGA_UPLOADSCORECANCELLED_InfoText");
m&&(m.innerHTML=""+a.innerHTML);e.xScene=main.SCENE_OVER_4Delay;main.mcStages.mc_Over.gotoAndPlay(1,main.PPLAYING)}};k.onclick=function(){if(main.GAME_OVER==e.xState)try{for(var a=0;a<h.value.length&&("A"<=h.value[a]&&"Z">=h.value[a]||"a"<=h.value[a]&&"z">=h.value[a]||"0"<=h.value[a]&&"9">=h.value[a]||"_"==h.value[a]);a++);if(!(0>=a||a<h.value.length)){k.disabled=!0;var b=main.dvboard.querySelector(".clsdvAllCommonControls .clsvMGA_SETTINGDATA_InfoText");m.innerHTML=""+b.innerHTML;c.saveDatServer(h.value,
function(a){f.disabled=!0;XinSDK.myWin8Common.setRoamingSettings("SETTING_reskeyScoreUploaded",""+a,!0);a=main.dvboard.querySelector(".clsdvAllCommonControls .clsvMGA_SETDATADONE_InfoText");m&&(m.innerHTML=""+a.innerHTML);e.xScene=main.SCENE_OVER_4Delay;main.mcStages.mc_Over.gotoAndPlay(1,main.PPLAYING)},function(a){var b=main.dvboard.querySelector(".clsdvAllCommonControls .clsvMGA_SETDATAFAILHEAD_InfoText");m&&(m.innerHTML=""+b.innerHTML+""+a);k.disabled=!1})}}catch(d){a=main.dvboard.querySelector(".clsdvAllCommonControls .clsvMGA_GENERALERRORHEAD_InfoText"),
m&&(m.innerHTML=""+a.innerHTML+""+d)}};this.xScene=main.SCENE_OVER_3Wait}a=main.TRUE;break}if(this.xScene==main.SCENE_OVER_3Wait){a=main.TRUE;break}if(this.xScene==main.SCENE_OVER_4Delay){b=300;main.mcStages.mc_Over.vxtpiCurrentScene.vxtnCurrentFrame<b?main.mcStages.mc_Over.vxtpiCurrentScene.vxtnCurrentFrame++:this.xScene=main.SCENE_OVER_5FinishAll;a=main.TRUE;break}if(this.xScene==main.SCENE_OVER_5FinishAll){b=main.dvboard.querySelector(".clsdvGmOVERUploadRecordPanePopup");b.style.display="none";
b.querySelector(".clsvNickname").value="";b.querySelector(".clsdvMsgInfo").innerText="";main.dvboard.querySelector(".clsdvGmOVERNewRecordBar").style.visibility="hidden";main.dvboard.querySelector(".clsdvGmOVERMainBoard").style.display="none";b=main.cvBoardTmpBuffer.getContext("2d");b.fillStyle="#000000";b.fillRect(0,0,main.cvBoardTmpBuffer.width,main.cvBoardTmpBuffer.height);main.cvboard.getContext("2d").drawImage(main.cvBoardTmpBuffer,0,0);this.xState=main.GAME_MENU;this.xScene=main.SCENE_MENU_1PreInit;
this.tm[main.GAME_OVER]=0;main.dvboard.querySelector(".clsdvGmMENUMainBoard").style.display="block";a=main.TRUE;break}break}return a}})})();(function(){function n(){var a=new XinSDK.PkgMegaTanks.PkgBasics.CFPOS,b=new XinSDK.PkgMegaTanks.PkgBasics.CFGEOM,c=new XinSDK.PkgMegaTanks.PkgSprites.CIPICTURE,d=!1,e=main.FALSE,h;a.dt=main.DRIGHT;a.off.x=a.off.y=0;a.seg.x=a.seg.y=0;b.rbody.left=0;b.rbody.top=0;b.rbody.right=0;b.rbody.bottom=0;b.bw=b.rbody.right-b.rbody.left+1;b.bh=b.rbody.bottom-b.rbody.top+
1;this.getXV_bdPs=function(){return a};this.getXV_bdGeom=function(){return b};this.getXV_bdPic=function(){return c};this.getXV_bdIsEnabled=function(){return d};this.setXV_bdIsEnabled=function(a){d=a};this.getXV_bdType=function(){return e};this.setXV_bdType=function(a){e=a};this.getXV_bdColtransform=function(){return h};this.setXV_bdColtransform=function(a){h=a}}function c(a,b,c){var d=main.NULL,e=main.FALSE,h=null;++main.IDMC;h=new XinSDK.PkgMegaTanks.PkgModels.vxcMContainer(main.cvmcSCR,"mc__as"+
main.IDMC,main.IDMC+main.IDMCPICTRSEG);d=Math.floor(a);e=Math.floor(b);this.getXV_picWhat=function(){return d};this.setXV_picWhat=function(a){d=a};this.getXV_picStat=function(){return e};this.setXV_picStat=function(a){e=a};this.getXV_picMC=function(){return h};this.setXV_picMC=function(a){h=a}}function b(){n.call(this);var a=0,b=this.getXV_bdPic();b.getXV_picMC()&&b.getXV_picMC().removeMovieClip();b.setXV_picMC(new XinSDK.PkgMegaTanks.PkgModels.vxcMContainer(main.cvmcSCR,"mc__as"+main.IDMC,main.IDMCJEWOFF));
this.getXV_jewDissolveCountdown=function(){return a};this.setXV_jewDissolveCountdown=function(b){a=b};this.upXV_jewDissolveCountdown=function(b){a+=b}}function a(){n.call(this)}function d(){n.call(this);for(var a=!1,b=65535,c=0,d=0,e=0,h=0,k=0,z=Array(main.MAXPERBULLET),r=0;r<z.length;r++)z[r]=new XinSDK.PkgMegaTanks.PkgSprites.CL3FBullet;this.getXV_tnkIsLive=function(){return a};this.setXV_tnkIsLive=function(b){a=b};this.getXV_tnkSelfinx=function(){return b};this.setXV_tnkSelfinx=function(a){b=a};
this.getXV_tnkDisBomCountdown=function(){return c};this.setXV_tnkDisBomCountdown=function(a){c=a};this.upXV_tnkDisBomCountdown=function(a){c+=a};this.getXV_tnkHP=function(){return d};this.setXV_tnkHP=function(a){d=a};this.upXV_tnkHP=function(a){d+=a};this.getXV_tnkFireCountdown=function(){return e};this.setXV_tnkFireCountdown=function(a){e=a};this.upXV_tnkFireCountdown=function(a){e+=a};this.getXV_tnkFireLevel=function(){return h};this.setXV_tnkFireLevel=function(a){h=a};this.upXV_tnkFireLevel=function(a){h+=
a};this.getXV_tnkShapeParam=function(){return k};this.setXV_tnkShapeParam=function(a){k=a};this.getXV_tnkBullets=function(){return z}}function e(){n.call(this);var a=!1,b=65535,c=0,d=0,e=0;this.getXV_bltIsLive=function(){return a};this.setXV_bltIsLive=function(b){a=b};this.getXV_bltOwnerinx=function(){return b};this.setXV_bltOwnerinx=function(a){b=a};this.getXV_bltSpeed=function(){return c};this.setXV_bltSpeed=function(a){c=a};this.getXV_bltLevel=function(){return d};this.setXV_bltLevel=function(a){d=
a};this.getXV_bltDisBomCountdown=function(){return e};this.setXV_bltDisBomCountdown=function(a){e=a};this.upXV_bltDisBomCountdown=function(a){e+=a}}function h(a){d.call(this);for(var b=0,c=0,e=0,h=Array(4),k=0;4>k;k++)h[k]=0;var q=a,n=0,r=0;this.getXV_plyrDisIceCountdown=function(){return b};this.setXV_plyrDisIceCountdown=function(a){b=a};this.upXV_plyrDisIceCountdown=function(a){b+=a};this.getXV_plyrDisImmobCountdown=function(){return c};this.setXV_plyrDisImmobCountdown=function(a){c=a};this.upXV_plyrDisImmobCountdown=
function(a){c+=a};this.getXV_plyrDisHelmtCountdown=function(){return e};this.setXV_plyrDisHelmtCountdown=function(a){e=a};this.upXV_plyrDisHelmtCountdown=function(a){e+=a};this.getXV_plyrKillCnts=function(){return h};this.getXV_plyrThatGm=function(){return q};this.setXV_plyrThatGm=function(a){q=a};this.getXV_plyrLife=function(){return n};this.setXV_plyrLife=function(a){n=a};this.upXV_plyrLife=function(a){n+=a};this.getXV_plyrScore=function(){return r};this.setXV_plyrScore=function(a){r=a};this.upXV_plyrScore=
function(a){r+=a}}function k(){d.call(this);var a=0;this.getXV_enmyJew=function(){return a};this.setXV_enmyJew=function(b){a=b}}XinSDK.PkgMegaTanks.PkgSprites||(XinSDK.PkgMegaTanks.PkgSprites={});XinSDK.PkgMegaTanks.PkgSprites.CIPICTURE=c;XinSDK.PkgMegaTanks.PkgSprites.CL1BBODY=n;XinSDK.PkgMegaTanks.PkgSprites.CL2FJewel=b;XinSDK.PkgMegaTanks.PkgSprites.CL2BSPRITE=a;XinSDK.PkgMegaTanks.PkgSprites.CL3BTANK=d;XinSDK.PkgMegaTanks.PkgSprites.CL3FBullet=e;XinSDK.PkgMegaTanks.PkgSprites.CL4FPlayer=h;XinSDK.PkgMegaTanks.PkgSprites.CL4FEnemy=
k;(function(){XinSDK.myWin8Common.addMembersToObject(n.prototype,{ishit:function(a){for(var b=this.getXV_bdGeom(),c=!1;0!=this.getXV_bdIsEnabled()&&0!=a.getXV_bdIsEnabled()&&this!=a;){c=main.IsHit(b.rbody,a.getXV_bdGeom().rbody);break}return c},enableto:function(a){this.setXV_bdIsEnabled(0==a?!1:!0);return main.TRUE},toshow:function(){for(var a=this.getXV_bdPs(),b=this.getXV_bdPic(),c=main.FALSE;0!=this.getXV_bdIsEnabled()&&b.getXV_picWhat()!=main.NULL&&b.getXV_picStat()!=main.FALSE;){b.todraw(main.realx(a),
main.realy(a),this.getXV_bdColtransform());c=main.TRUE;break}return c}})})();(function(){XinSDK.myWin8Common.addMembersToObject(c.prototype,{todraw:function(a,b,c){for(var d=main.FALSE;this.getXV_picWhat()!=main.NULL&&this.getXV_picStat()!=main.FALSE;){a=Math.floor(a);b=Math.floor(b);main.tmpgetSVG(this.getXV_picMC(),a,b,c);d=main.TRUE;break}return d}})})();(function(){b.prototype=XinSDK.myWin8Common.makeSubClassOf(n);b.prototype.constructor=b;XinSDK.myWin8Common.addMembersToObject(b.prototype,{create:function(a,
b,c){for(var d=this.getXV_bdPs(),e=this.getXV_bdGeom(),h=this.getXV_bdPic(),k=h.getXV_picMC(),n=main.FALSE;1!=this.getXV_bdIsEnabled();){this.setXV_bdIsEnabled(!0);d.seg.x=a;d.seg.y=b;this.setXV_bdType(c);this.setXV_jewDissolveCountdown(2E3);e.bw=16;e.bh=16;e.rbody=main.TheRect(main.realx(d),main.realy(d),e.bw,e.bh);h.setXV_picWhat(this.getXV_bdType());h.setXV_picStat(1);k.vxtsContentId="MsJNone MsJLife MsJStar MsJStop MsJCap MsJTnt MsJKing".split(" ")[this.getXV_bdType()-main.SJNONE];k.vxtpiCurrentScene.gotoQuickPlay("BodyVar0",
1,main.PSTOPPED);n=main.TRUE;break}return n},toshow:function(){for(var a=this.getXV_bdPic(),b=main.FALSE;0!=this.getXV_bdIsEnabled()&&a.getXV_picWhat()!=main.NULL&&a.getXV_picStat()!=main.FALSE;){1==a.getXV_picStat()&&0==Math.floor(main.g_systimer/20)%2||n.prototype.toshow.call(this);b=main.TRUE;break}return b}})})();(function(){a.prototype=XinSDK.myWin8Common.makeSubClassOf(n);a.prototype.constructor=a;XinSDK.myWin8Common.addMembersToObject(a.prototype,{tomove:function(a){return main.TRUE}})})();
(function(){d.prototype=XinSDK.myWin8Common.makeSubClassOf(a);d.prototype.constructor=d;XinSDK.myWin8Common.addMembersToObject(d.prototype,{Createbullet:function(){for(var a=this.getXV_tnkBullets(),b=main.FALSE;0!=this.getXV_tnkIsLive();){for(var c=2>this.getXV_tnkFireLevel()?1:2,d=0;d<c;d++)if(0==a[d].getXV_bdIsEnabled()&&0>=this.getXV_tnkFireCountdown()){a[d].create(this);b=main.TRUE;break}break}return b},die:function(){for(var a=main.FALSE;0!=this.getXV_bdIsEnabled()&&0!=this.getXV_tnkIsLive();){this.setXV_tnkIsLive(!1);
this.setXV_tnkHP(0);this.setXV_tnkDisBomCountdown(30);a=main.TRUE;break}return a},toshow:function(){for(var b=this.getXV_bdPs(),c=this.getXV_bdPic().getXV_picMC(),d=main.FALSE;0!=this.getXV_bdIsEnabled();){if(0==this.getXV_tnkIsLive())this.showbomb();else{var e=d=null,h=this.getXV_tnkShapeParam()&1,d=-1!=this.getXV_tnkSelfinx()?"BodyVarL"+this.getXV_tnkFireLevel():"BodyVarL0";b.dt==main.DUP&&(e=h+1);b.dt==main.DDOWN&&(e=h+3);b.dt==main.DLEFT&&(e=h+5);b.dt==main.DRIGHT&&(e=h+7);c.vxtpiCurrentScene.vxtnCurrentBodyVar==
d&&c.vxtpiCurrentScene.vxtnCurrentFrame==e||c.vxtpiCurrentScene.gotoQuickPlay(d,e,main.PSTOPPED);a.prototype.toshow.call(this)}d=main.TRUE;break}return d},showbomb:function(){for(var b=this.getXV_bdPic().getXV_picMC(),c=main.FALSE;1!=this.getXV_tnkIsLive()&&0!=this.getXV_bdIsEnabled()&&!(0>=this.getXV_tnkDisBomCountdown());){this.upXV_tnkDisBomCountdown(-1);"BodyVarBomb"!=b.vxtpiCurrentScene.vxtnCurrentBodyVar&&b.vxtpiCurrentScene.gotoQuickPlay("BodyVarBomb",2,main.PSTOPPED);a.prototype.toshow.call(this);
0>=this.getXV_tnkDisBomCountdown()&&this.enableto(!1);c=main.TRUE;break}return c}})})();(function(){e.prototype=XinSDK.myWin8Common.makeSubClassOf(a);e.prototype.constructor=e;XinSDK.myWin8Common.addMembersToObject(e.prototype,{create:function(a){for(var b=this.getXV_bdPs(),c=this.getXV_bdGeom(),d=this.getXV_bdPic(),e=d.getXV_picMC(),h=main.FALSE,k=a.getXV_bdPs();1!=this.getXV_bdIsEnabled();){this.setXV_bdIsEnabled(!0);this.setXV_bltIsLive(!0);this.setXV_bltOwnerinx(a.getXV_tnkSelfinx());this.setXV_bltLevel(a.getXV_tnkFireLevel());
this.setXV_bltSpeed(1>a.getXV_tnkFireLevel()?2:4);this.setXV_bltDisBomCountdown(0);this.setXV_bdType(main.SBULLET);h=k.dt;h===main.DUP?(b.dt=k.dt,b.seg.x=k.seg.x,b.seg.y=k.seg.y,b.off.x=k.off.x+6,b.off.y=k.off.y+2):h===main.DDOWN?(b.dt=k.dt,b.seg.x=k.seg.x,b.seg.y=k.seg.y,b.off.x=k.off.x+6,b.off.y=k.off.y+16-6):h===main.DLEFT?(b.dt=k.dt,b.seg.x=k.seg.x,b.seg.y=k.seg.y,b.off.x=k.off.x+2,b.off.y=k.off.y+6):h===main.DRIGHT&&(b.dt=k.dt,b.seg.x=k.seg.x,b.seg.y=k.seg.y,b.off.x=k.off.x+16-6,b.off.y=k.off.y+
6);a.setXV_tnkFireCountdown(4);c.bw=4;c.bh=4;c.rbody=main.TheRect(main.realx(b),main.realy(b),c.bw,c.bh);d.setXV_picWhat(this.getXV_bdType());d.setXV_picStat(k.dt);e.vxtsContentId="MsBullet";h=main.TRUE;break}return h},toshow:function(){for(var b=this.getXV_bdPs(),c=this.getXV_bdPic(),d=c.getXV_picMC(),e=main.FALSE;0!=this.getXV_bdIsEnabled()&&c.getXV_picWhat()!=main.NULL&&c.getXV_picStat()!=main.FALSE;){0==this.getXV_bltIsLive()?this.showbomb():(b.dt==main.DUP&&("BodyVarBL0"==d.vxtpiCurrentScene.vxtnCurrentBodyVar&&
1==d.vxtpiCurrentScene.vxtnCurrentFrame||d.vxtpiCurrentScene.gotoQuickPlay("BodyVarBL0",1,main.PSTOPPED)),b.dt==main.DDOWN&&("BodyVarBL0"==d.vxtpiCurrentScene.vxtnCurrentBodyVar&&2==d.vxtpiCurrentScene.vxtnCurrentFrame||d.vxtpiCurrentScene.gotoQuickPlay("BodyVarBL0",2,main.PSTOPPED)),b.dt==main.DLEFT&&("BodyVarBL0"==d.vxtpiCurrentScene.vxtnCurrentBodyVar&&3==d.vxtpiCurrentScene.vxtnCurrentFrame||d.vxtpiCurrentScene.gotoQuickPlay("BodyVarBL0",3,main.PSTOPPED)),b.dt==main.DRIGHT&&("BodyVarBL0"==d.vxtpiCurrentScene.vxtnCurrentBodyVar&&
4==d.vxtpiCurrentScene.vxtnCurrentFrame||d.vxtpiCurrentScene.gotoQuickPlay("BodyVarBL0",4,main.PSTOPPED)),a.prototype.toshow.call(this));e=main.TRUE;break}return e},showbomb:function(){for(var b=this.getXV_bdPic().getXV_picMC(),c=main.FALSE;1!=this.getXV_bltIsLive()&&0!=this.getXV_bdIsEnabled()&&!(0>=this.getXV_bltDisBomCountdown());){this.upXV_bltDisBomCountdown(-1);"BodyVarBL0"==b.vxtpiCurrentScene.vxtnCurrentBodyVar&&b.vxtpiCurrentScene.gotoQuickPlay("BodyVarBBomb",null,main.PPLAYING);a.prototype.toshow.call(this);
0>=this.getXV_bltDisBomCountdown()&&this.enableto(!1);c=main.TRUE;break}return c}})})();(function(){h.prototype=XinSDK.myWin8Common.makeSubClassOf(d);h.prototype.constructor=h;XinSDK.myWin8Common.addMembersToObject(h.prototype,{create:function(a){for(var b=this.getXV_bdPs(),c=this.getXV_bdGeom(),d=this.getXV_bdPic(),e=d.getXV_picMC(),h=main.FALSE;1!=this.getXV_bdIsEnabled()&&!(0>=this.getXV_plyrLife());){this.setXV_bdIsEnabled(!0);this.setXV_tnkIsLive(!0);this.setXV_tnkSelfinx(a);this.setXV_plyrDisImmobCountdown(0);
this.setXV_plyrDisHelmtCountdown(400);this.setXV_plyrDisIceCountdown(0);b.off.x=0;b.off.y=0;b.seg.x=0==a?main.SCR_TAB_WIDTH/2-5:main.SCR_TAB_WIDTH/2+3;b.seg.y=main.SCR_TAB_HEIGHT-1;b.dt=main.DUP;this.setXV_bdType(a+main.SP1);this.setXV_tnkHP(1);this.setXV_tnkShapeParam(0);this.setXV_tnkDisBomCountdown(0);this.setXV_tnkFireCountdown(0);c.bw=16;c.bh=16;c.rbody=main.TheRect(main.realx(b),main.realy(b),c.bw,c.bh);d.setXV_picWhat(this.getXV_bdType());d.setXV_picStat(main.DUP);e.vxtsContentId=["MsP1","MsP2"][this.getXV_tnkSelfinx()];
h=main.TRUE;break}return h},upscore:function(a){this.upXV_plyrLife(Math.floor((this.getXV_plyrScore()+a)/this.getXV_plyrThatGm().defaultHiScore)-Math.floor(this.getXV_plyrScore()/this.getXV_plyrThatGm().defaultHiScore));this.upXV_plyrScore(a);return main.TRUE},toshow:function(){for(var a=this.getXV_bdPs(),b=this.getXV_bdPic().getXV_picMC(),c=main.FALSE;0!=this.getXV_bdIsEnabled();){0==Math.floor(this.getXV_plyrDisImmobCountdown()/20)%2?this.setXV_bdColtransform(null):this.setXV_bdColtransform({redMultiplier:.3,
greenMultiplier:.3,blueMultiplier:.3});d.prototype.toshow.call(this);0<this.getXV_plyrDisHelmtCountdown()&&(b=new XinSDK.PkgMegaTanks.PkgModels.vxcMCScene(b.vxtpiCurrentScene.vxtoOncanvas),b.gotoQuickPlay("BodyVar0",Math.floor(this.getXV_plyrDisHelmtCountdown()/4)%2+1,null),main.tmpgetSVG({vxtsContentId:"MsShell",vxtpiCurrentScene:b},main.realx(a),main.realy(a)));c=main.TRUE;break}return c}})})();(function(){k.prototype=XinSDK.myWin8Common.makeSubClassOf(d);k.prototype.constructor=k;XinSDK.myWin8Common.addMembersToObject(k.prototype,
{create:function(a){for(var b=this.getXV_bdPs(),c=this.getXV_bdGeom(),d=this.getXV_bdPic(),e=d.getXV_picMC(),h=main.FALSE;1!=this.getXV_bdIsEnabled();){this.setXV_bdIsEnabled(!0);this.setXV_tnkIsLive(!0);this.setXV_tnkSelfinx(-1);b.off.x=0;b.off.y=0;b.seg.x=(a+1)%3*(main.SCR_TAB_WIDTH/2-1);b.seg.y=-1;b.dt=main.DDOWN;this.setXV_tnkHP(this.getXV_bdType()==main.SHUGETANK?4:1);this.setXV_tnkShapeParam(0);this.setXV_tnkDisBomCountdown(0);this.setXV_tnkFireLevel(this.getXV_bdType()==main.SCANNONTANK?1:
0);this.setXV_tnkFireCountdown(0);c.bw=16;c.bh=16;c.rbody=main.TheRect(main.realx(b),main.realy(b),c.bw,c.bh);d.setXV_picWhat(this.getXV_bdType());d.setXV_picStat(main.DDOWN);e.vxtsContentId=["MsStdtank","MsFasttank","MsCannontank","MsHugetank"][this.getXV_bdType()-main.SSTDTANK];h=main.TRUE;break}return h},toshow:function(){for(var a=main.FALSE;0!=this.getXV_bdIsEnabled();){a={redMultiplier:1,greenMultiplier:1,blueMultiplier:1};1<this.getXV_tnkHP()&&(4==this.getXV_tnkHP()&&(a.redMultiplier=.498039215686,
a.greenMultiplier=1,a.blueMultiplier=.749019607843),3==this.getXV_tnkHP()&&(a.redMultiplier=1,a.greenMultiplier=1,a.blueMultiplier=.749019607843),2==this.getXV_tnkHP()&&(a.redMultiplier=.749019607843,a.greenMultiplier=1,a.blueMultiplier=.247058823529));this.getXV_enmyJew()==main.TRUE&&Math.floor(main.g_systimer/20)%2&&(a.redMultiplier=1,a.greenMultiplier=.247058823529,a.blueMultiplier=.247058823529);this.setXV_bdColtransform(a);d.prototype.toshow.call(this);a=main.TRUE;break}return a}})})()})();(function(){function n(){for(var b=
Array(main.SCR_TAB_HEIGHT),a=0;!(a>=b.length);){b[a]=Array(main.SCR_TAB_WIDTH);for(var c=0;c<b[a].length;)b[a][c]=new XinSDK.PkgMegaTanks.PkgWorlds.CFTILE,++c;++a}this.getXV_mp=function(){return b}}function c(){var b=main.TVOID,a=0,c=new XinSDK.PkgMegaTanks.PkgModels.vxcMContainer(main.cvmyMAPl,"mc__as_map"+main.IDMC,main.IDMC+main.IDMCMAPSEG);c.vxtpiCurrentScene.gotoQuickPlay("BodyVar0",1,main.PREPEATING);++main.IDMC;this.getXV_TileID=function(){return b};this.setXV_TileID=function(a){b=a};this.getXV_TileHP=
function(){return a};this.setXV_TileHP=function(b){a=b};this.getXV_MC=function(){return c}}XinSDK.PkgMegaTanks.PkgWorlds||(XinSDK.PkgMegaTanks.PkgWorlds={});XinSDK.PkgMegaTanks.PkgWorlds.CFMAP=n;XinSDK.PkgMegaTanks.PkgWorlds.CFTILE=c;(function(){XinSDK.myWin8Common.addMembersToObject(n.prototype,{showunit:function(b,a,c){var e=this.getXV_mp();b=Math.floor(b);a=Math.floor(a);c=Math.floor(c);if(c<main.TVOID||c>main.TLAIRD)return main.FALSE;var h=c<main.TGRASS?main.cvmyMAPl:main.cvmyMAPh;if(c==main.TSTONE){var k=
e[a][b].getXV_TileHP();2==k&&e[a][b].getXV_MC().vxtpiCurrentScene.gotoQuickPlay("BodyVar0",1,main.PSTOPPED);1==k&&e[a][b].getXV_MC().vxtpiCurrentScene.gotoQuickPlay("BodyVar1",1,main.PSTOPPED)}e[a][b].getXV_MC().vxtsContentId="MtVoid MtStone MtGold MtSea MtIce MtGrass MtLairL MtLairD".split(" ")[c-main.TVOID];if(h!=main.cvmyMAPh)for(c=0;8>c;c++)"MtSea"==e[a][b].getXV_MC().vxtsContentId&&(e[a][b].getXV_MC().vxtpiCurrentScene.vxtnCurrentFrame=c+1),e[a][b].getXV_MC().vxtpiCurrentScene.vxtoOncanvas=main.a_cvmyMAPls[c],
main.tmpgetSVG(e[a][b].getXV_MC(),8*b,8*a);else e[a][b].getXV_MC().vxtpiCurrentScene.vxtoOncanvas=main.cvmyMAPh,main.tmpgetSVG(e[a][b].getXV_MC(),8*b,8*a);return main.TRUE},setunit:function(b,a,c){var e=this.getXV_mp();b=Math.floor(b);a=Math.floor(a);c=Math.floor(c);if(0>b||0>a||b>=main.SCR_TAB_WIDTH||a>=main.SCR_TAB_HEIGHT)return main.FALSE;e[a][b].setXV_TileID(c);e[a][b].getXV_MC().vxtpiCurrentScene.gotoQuickPlay("BodyVar0",1,main.PREPEATING);this.showunit(b,a,c);return main.TRUE},setstnhp:function(b,
a,c){var e=this.getXV_mp();b=Math.floor(b);a=Math.floor(a);c=Math.floor(c);if(0>b||0>a||b>=main.SCR_TAB_WIDTH||a>=main.SCR_TAB_HEIGHT||0!=c&&1!=c&&2!=c)return main.FALSE;e[a][b].setXV_TileHP(c);0==e[a][b].getXV_TileHP()&&(e[a][b].setXV_TileID(main.TVOID),e[a][b].getXV_MC().vxtpiCurrentScene.gotoQuickPlay("BodyVar0",1,main.PREPEATING));this.showunit(b,a,e[a][b].getXV_TileID());return main.TRUE},getunit:function(b,a){var c=this.getXV_mp();b=Math.floor(b);a=Math.floor(a);return 0>b||0>a||b>=main.SCR_TAB_WIDTH||
a>=main.SCR_TAB_HEIGHT?-1:c[a][b].getXV_TileID()},getstnhp:function(b,a){var c=this.getXV_mp();b=Math.floor(b);a=Math.floor(a);return 0>b||0>a||b>=main.SCR_TAB_WIDTH||a>=main.SCR_TAB_HEIGHT?-1:c[a][b].getXV_TileHP()}})})();XinSDK.myWin8Common.addMembersToObject(c.prototype,{})})();(function(){function n(b){for(b.focus();;){XinSDK.myWin8Common.setWindowOnResize("clearfuncsthenarrays");for(var a=b.querySelectorAll(".cdvBoardCommon"),d=0;d<a.length;d++)a[d].style.display="none";var e=b.querySelector("#idvGameBoardMegaTanks");
c(e);var h=e.querySelector(".clscvGameBoard");window.main=new XinSDK.PkgMegaTanks.PkgBasics.CF_Main;if(!main.initAttach(e,h,function(){var a=e,b=h;a.style.position="absolute";var c=a.parentNode.clientWidth/b.width,d=a.parentNode.clientHeight/b.height,c=c<d?c:d;a.style.width=c*b.width+"px";a.style.height=c*b.height+"px";a.style.left=(a.parentNode.clientWidth-a.clientWidth)/2+"px";a.style.top=(a.parentNode.clientHeight-a.clientHeight)/2+"px";a.style.fontSize=14*c+"px"})){console.log("initAttach failed");
break}main.glb_update(main.glb);break}}function c(b){for(;;){b.innerHTML=""+document.querySelector(".clsdvAllHiddenInfo").innerHTML;XinSDK.myWin8Common.localizeAllStrings(b);for(var a=b.querySelectorAll(".clsdvMGAPopupL1Main"),c=0;c<a.length;c++)XinSDK.myMTKCommon.setToMGAPopup(a[c]);break}b.style.display="block"}window.WinJS||$(document).ready(function(){n(document.querySelector(".cdvBoardsAll"))})})()})();